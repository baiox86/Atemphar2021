{"remainingRequest":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Projeto Final\\Entrega\\Software\\Frontend\\src\\components\\registos\\FormInscricoesEvento.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\src\\components\\registos\\FormInscricoesEvento.vue","mtime":1617391304544},{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoudm9sdGFyRXZlbnRvIGJ1dHRvbiB7CiAgICBmb250LXNpemU6IDIwcHg7CiAgICBtYXJnaW4tbGVmdDogMjVweDsKICAgIGN1cnNvcjogcG9pbnRlcjsKICAgIGJvcmRlcjogbm9uZTsKICAgIGJvcmRlci1yYWRpdXM6IDRweDsKICAgIGJhY2tncm91bmQtY29sb3I6ICNlZWRlYzA7Cn0KCi52b2x0YXJFdmVudG8gaSB7CiAgICBmb250LXNpemU6IDE3cHg7CiAgICBtYXJnaW4tcmlnaHQ6IDNweDsKfQoKLnZvbHRhckV2ZW50byBidXR0b246aG92ZXIgewogICAgYmFja2dyb3VuZC1jb2xvcjogI2ZkZjVlNgp9CgouaW5zY3JpY29lcyBoMSB7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7Cn0KCi5pbnNjcmljb2VzIHsKICAgIGZvbnQtZmFtaWx5OiAiT3BlbiBTYW5zIjsKfQoKLmluc2NyaWNvZXMgLnRhYmVsYSB7CiAgICB3aWR0aDogMTAwJTsKICAgIG1hcmdpbi1ib3R0b206IDIwcHg7Cn0KCi5pbnNjcmljb2VzICN0YWJlbGEgewogICAgd2lkdGg6IDgwJTsKICAgIG1hcmdpbi10b3A6IDEwcHg7Cn0KCi5pbnNjcmljb2VzIC5kYWRvcyAuaWRFdmVudG8gewogICAgd2lkdGg6IDUlOwp9CgouaW5zY3JpY29lcyAudGFiZWxhIHRhYmxlIHRkIHsKICAgIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7Cn0KCi5pbnNjcmljb2VzIC5kYWRvcyB0YWJsZSB0ZCB7CiAgICB3aWR0aDogMjUlOwp9CgouaW5zY3JpY29lcyAudGFiZWxhIHRhYmxlIHRoIHsKICAgIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7Cn0KCi5pbnNjcmljb2VzIC50YWJlbGEgLmNvbnRldWRvOmhvdmVyIHsKICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgYmFja2dyb3VuZC1jb2xvcjogI2UyZTJlMjsKfQoKLmluc2NyaWNvZXMgLmRhZG9zIHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKfQoKLmluc2NyaWNvZXMgLmVkaXRhckJ1dHRvbiB7CiAgICBjdXJzb3I6IHBvaW50ZXI7Cn0KCi5pbnNjcmljb2VzIC5lZGl0YXJCdXR0b24gYTpob3ZlciB7CiAgICBmb250LXdlaWdodDogYm9sZDsKICAgIGZvbnQtc2l6ZTogMTNweDsKCn0KCi5pbnNjcmljb2VzIC5yZWdpc3RhckNvbXBhcmVjZXUgewogICAgY3Vyc29yOiBwb2ludGVyOwp9CgouaW5zY3JpY29lcyAucmVnaXN0YXJDb21wYXJlY2V1IGE6aG92ZXIgewogICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICBmb250LXNpemU6IDEzcHg7Cgp9CgoKLmluc2NyaWNvZXMgLmRhZG9zIC5idXR0b25zIHsKICAgIGJvcmRlci1jb2xvcjogd2hpdGU7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTsKICAgIGJvcmRlci10b3A6IG5vbmU7CiAgICBib3JkZXI6IG5vbmU7Cn0KCi5pbnNjcmljb2VzIC5idXR0b25SZWdpc3RhckNvbXBhcmVjaW1lbnRvVG9kb3MgewogICAgbWFyZ2luLXRvcDogMTBweDsKICAgIG1hcmdpbi1sZWZ0OiAxMCU7CiAgICBkaXNwbGF5OiBmbGV4Owp9CgouaW5zY3JpY29lcyAuYnV0dG9uUmVnaXN0YXJDb21wYXJlY2ltZW50b1RvZG9zIGJ1dHRvbiB7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjYTJlM2ZiOwogICAgYm9yZGVyOiBub25lOwogICAgYm9yZGVyLXJhZGl1czogNHB4Owp9CgouaW5zY3JpY29lcyAuYnV0dG9uUmVnaXN0YXJDb21wYXJlY2ltZW50b1RvZG9zIGJ1dHRvbjpob3ZlciB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDNjYmZkOzsKfQoKCg=="},{"version":3,"sources":["FormInscricoesEvento.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"FormInscricoesEvento.vue","sourceRoot":"src/components/registos","sourcesContent":["<template>\n    <div>\n        <br>\n        <div class=\"voltarEvento\">\n            <button v-on:click=\"switchComponent('EventsTablesMenu')\">\n                <i class=\"fas fa-reply\"></i>Voltar\n            </button>\n        </div>\n        <div class=\"inscricoes\">\n            <div v-if=\"this.allInscricoes.length > 0\">\n                <h1>Inscrições no Evento </h1>\n                <div class=\"buttonRegistarComparecimentoTodos\">\n                    <button v-on:click=\"registarComparecimentoTodos()()\">\n                        <i class=\"fas fa-plus-circle\"></i> {{this.registarComparecimentoTodosText}}\n                    </button>\n                </div>\n                <div class=\"dados\">\n                    <table class=\"w3-table-all\" id=\"tabela\">\n                        <tr>\n                            <th>Nome</th>\n                            <th>Email</th>\n                            <th>Primeiro Evento</th>\n                            <th>Compareceu</th>\n                            <th>Pagamento Necessário</th>\n                            <th>Valor (€)</th>\n                            <th>Nº Recibo</th>\n\n                        </tr>\n                        <tr class=\"conteudo\" v-for=\"(inscricao, tableKey) in allInscricoes\" :key=\"tableKey\">\n                            <td>{{ inscricao.nome}}</td>\n                            <td>{{ inscricao.email }}</td>\n                            <td>{{ inscricao.flagPrimeiroEvento == true ? 'Sim' : 'Não' }}</td>\n                            <td>{{ inscricao.flagCompareceu == true ? 'Sim' : 'Não' }}</td>\n                            <td>{{ inscricao.necessitaPagamento == true ? 'Sim' : 'Não' }}</td>\n                            <td>{{ inscricao.valor == -1 ? \"\" : inscricao.valor }}</td>\n                            <td>{{ inscricao.recibo == -1 ? \"\" : inscricao.recibo }}</td>\n                            <td class=\"buttons\" v-if=\"inscricao.necessitaPagamento\">\n                                <div class=\"editarButton\">\n                                    <a class=\"fas fa-credit-card\" v-on:click=\"editar(inscricao)\" title=\"Editar\"></a>\n                                </div>\n                                <div class=\"registarCompareceu\">\n                                    <a class=\"fas fa-check\" v-on:click=\"registarComparecimento(inscricao)\"\n                                       title=\"Comparência\"></a>\n                                </div>\n                            </td>\n                        </tr>\n                    </table>\n                </div>\n            </div>\n            <h1 v-else>\n                Sem inscrições no Evento\n            </h1>\n        </div>\n    </div>\n</template>\n<script>\n    var axios = require(\"axios\");\n    axios.interceptors.response.use(\n        response => response,\n        error => {\n            if (error.response.status === 401) {\n                bus.$emit(\"logout\");\n            }\n        });\n    import {bus} from \"../../main.js\";\n\n    export default {\n        data() {\n            return {\n                allInscricoes: null,\n                registarPagamento: false,\n                registarComparecimentoTodosText: \"Alterar Comparências do Evento\"\n            };\n        },\n        props: {\n            dadosEvento: {\n                type: Object,\n                required: true\n            }\n        },\n        activated() {\n            axios\n                .get(`api/getInscricoesPagamentoEvento/${this.dadosEvento.idEvento}`, {\n                    withCredentials: true,\n                    headers: {Authorization: `Bearer ` + sessionStorage.getItem(\"token\")}\n                })\n                .then(response => {\n                    this.allInscricoes = response.data;\n                })\n                .catch(error => {\n                    if (error.response.status === 401) {\n                        this.$toasted.error(\"Sessão expirou.\");\n                        bus.$emit(\"logout\");\n                    }\n                });\n        },\n        methods: {\n            switchComponent(comp) {\n                bus.$emit(\"switchComp\", comp);\n            },\n            editar(data) {\n                bus.$emit(\"registarPagamentoInscricao\", data);\n            },\n            registarComparecimento(inscricao) {\n                axios\n                    .patch(`api/patchComparecimentoInscricao/${this.dadosEvento.idEvento}/${inscricao.idParticipante}`, null, {\n                        withCredentials: true,\n                        headers: {Authorization: `Bearer ` + sessionStorage.getItem(\"token\")}\n                    })\n                    .then(response => {\n                        inscricao.flagCompareceu = !inscricao.flagCompareceu;\n                        if (inscricao.flagCompareceu) {\n                            this.$toasted.show(\"Comparecimento registado com sucesso!\");\n                        } else {\n                            this.$toasted.show(\"Falta de comparência registada com sucesso!\");\n                        }\n\n                        if (response.status == 409) {\n                            this.$toasted.error(\"Ocorreu um erro\");\n                        }\n\n                    })\n                    .catch(error => {\n                        if (error.response.status === 401) {\n                            this.$toasted.error(\"Sessão expirou.\");\n                            bus.$emit(\"logout\");\n                        }\n                    });\n            },\n            registarComparecimentoTodos() {\n                axios\n                    .patch(`api/patchComparecimentoInscricao/${this.dadosEvento.idEvento}`, null, {\n                        withCredentials: true,\n                        headers: {Authorization: `Bearer ` + sessionStorage.getItem(\"token\")}\n                    })\n                    .then(response => {\n                        this.allInscricoes.forEach(function (part, index, theArray) {\n                            theArray[index].flagCompareceu = !theArray[index].flagCompareceu;\n                        });\n\n                        this.$toasted.show(\"Comparências alteradas com sucesso!\");\n\n\n                        if (response.status == 409) {\n                            this.$toasted.error(\"Ocorreu um erro\");\n                        }\n                    })\n                    .catch(error => {\n                        if (error.response.status === 401) {\n                            this.$toasted.error(\"Sessão expirou.\");\n                            bus.$emit(\"logout\");\n                        }\n                    });\n            }\n\n        }\n    }\n</script>\n<style>\n\n\n    .voltarEvento button {\n        font-size: 20px;\n        margin-left: 25px;\n        cursor: pointer;\n        border: none;\n        border-radius: 4px;\n        background-color: #eedec0;\n    }\n\n    .voltarEvento i {\n        font-size: 17px;\n        margin-right: 3px;\n    }\n\n    .voltarEvento button:hover {\n        background-color: #fdf5e6\n    }\n\n    .inscricoes h1 {\n        text-align: center;\n    }\n\n    .inscricoes {\n        font-family: \"Open Sans\";\n    }\n\n    .inscricoes .tabela {\n        width: 100%;\n        margin-bottom: 20px;\n    }\n\n    .inscricoes #tabela {\n        width: 80%;\n        margin-top: 10px;\n    }\n\n    .inscricoes .dados .idEvento {\n        width: 5%;\n    }\n\n    .inscricoes .tabela table td {\n        border: 1px solid #ccc;\n    }\n\n    .inscricoes .dados table td {\n        width: 25%;\n    }\n\n    .inscricoes .tabela table th {\n        border: 1px solid #ccc;\n    }\n\n    .inscricoes .tabela .conteudo:hover {\n        font-weight: bold;\n        background-color: #e2e2e2;\n    }\n\n    .inscricoes .dados {\n        display: flex;\n        justify-content: center;\n    }\n\n    .inscricoes .editarButton {\n        cursor: pointer;\n    }\n\n    .inscricoes .editarButton a:hover {\n        font-weight: bold;\n        font-size: 13px;\n\n    }\n\n    .inscricoes .registarCompareceu {\n        cursor: pointer;\n    }\n\n    .inscricoes .registarCompareceu a:hover {\n        font-weight: bold;\n        font-size: 13px;\n\n    }\n\n\n    .inscricoes .dados .buttons {\n        border-color: white;\n        background-color: white;\n        border-top: none;\n        border: none;\n    }\n\n    .inscricoes .buttonRegistarComparecimentoTodos {\n        margin-top: 10px;\n        margin-left: 10%;\n        display: flex;\n    }\n\n    .inscricoes .buttonRegistarComparecimentoTodos button {\n        text-align: center;\n        cursor: pointer;\n        background-color: #a2e3fb;\n        border: none;\n        border-radius: 4px;\n    }\n\n    .inscricoes .buttonRegistarComparecimentoTodos button:hover {\n        background-color: #43cbfd;;\n    }\n\n\n</style>"]}]}