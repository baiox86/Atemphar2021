{"remainingRequest":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Projeto Final\\Entrega\\Software\\Frontend\\src\\components\\fichasindividuais\\EmpresaFichaIndividual.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\src\\components\\fichasindividuais\\EmpresaFichaIndividual.vue","mtime":1617391304316},{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8qIGVzbGludC1kaXNhYmxlICovCnZhciBheGlvcyA9IHJlcXVpcmUoImF4aW9zIik7CmF4aW9zLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoCiAgcmVzcG9uc2UgPT4gcmVzcG9uc2UsCiAgZXJyb3IgPT4gewogICAgICBpZiAoZXJyb3IucmVzcG9uc2Uuc3RhdHVzID09PSA0MDEpIHsgCiAgICAgICAgYnVzLiRlbWl0KCJsb2dvdXQiKTsKICAgICAgfQogfSk7CgppbXBvcnQgeyBidXMgfSBmcm9tICIuLi8uLi9tYWluLmpzIjsKdmFyIHNlbGYgPSB0aGlzOwovL2ltcG9ydCByb3V0ZXIgZnJvbSAiLi4vcm91dGVyIgpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIGlkRW1wcmVzYTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogIH0sCiAgYWN0aXZhdGVkKCkgewogICAgYXhpb3MKICAgICAgLmdldCgiYXBpL2dldERhZG9zRW1wcmVzYS8iICsgdGhpcy5pZEVtcHJlc2EsIHsKICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRydWUsCiAgICAgICAgaGVhZGVyczogeyBBdXRob3JpemF0aW9uOiBgQmVhcmVyIGAgKyBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbiIpIH0KICAgICAgfSkKICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIHRoaXMuZW1wcmVzYURhdGEgPSByZXNwb25zZS5kYXRhWzBdOwogICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwMSkgewogICAgICAgICAgdGhpcy4kdG9hc3RlZC5lcnJvcigiU2Vzc8OjbyBleHBpcm91LiIpOwogICAgICAgICAgYnVzLiRlbWl0KCJsb2dvdXQiKTsKICAgICAgICB9CiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgICBheGlvcwogICAgICAgICAgLmdldCgiYXBpL2dldERhZG9zRW1wcmVzYXJpb3NFbXByZXNhLyIgKyB0aGlzLmlkRW1wcmVzYSwgewogICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRydWUsCiAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyIGAgKyBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbiIpCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pCiAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwMSkgewogICAgICAgICAgICAgIHRoaXMuJHRvYXN0ZWQuZXJyb3IoIlNlc3PDo28gZXhwaXJvdS4iKTsKICAgICAgICAgICAgICBidXMuJGVtaXQoImxvZ291dCIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuY291bnRFbXByZXNhcmlvcyA9IHJlc3BvbnNlLmRhdGEubGVuZ3RoOwogICAgICAgICAgICB0aGlzLmVtcHJlc2FyaW9EYXRhID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgdGhpcy4kbmV4dFRpY2sodGhpcy5mb3JjZVJlcmVuZGVyKCkpOwogICAgICAgICAgfSkKICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICAgIHRoaXMuZXJyb3IgPSBlcnJvcjsKICAgICAgICAgIH0pOwogICAgICB9KQogICAgICAuY2F0Y2goZXJyb3IgPT4gewogICAgICAgIHRoaXMuZXJyb3IgPSBlcnJvcjsKICAgICAgfSk7CiAgICBheGlvcwogICAgICAgICAgLmdldCgiYXBpL2dldERvbmF0aXZvc0VtcHJlc2EvIiArIHRoaXMuaWRFbXByZXNhLCB7CiAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczogdHJ1ZSwKICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgYCArIHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInRva2VuIikKICAgICAgICAgICAgfQogICAgICAgICAgfSkKICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDAxKSB7CiAgICAgICAgICAgICAgdGhpcy4kdG9hc3RlZC5lcnJvcigiU2Vzc8OjbyBleHBpcm91LiIpOwogICAgICAgICAgICAgIGJ1cy4kZW1pdCgibG9nb3V0Iik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5jb3VudERvbmF0aXZvc0VtcHJlc2EgPSByZXNwb25zZS5kYXRhLmxlbmd0aDsKICAgICAgICAgICAgdGhpcy5kb25hdGl2b3NFbXByZXNhRGF0YSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKGVycm9yID0+IHsKCiAgICAgICAgICB9KTsKICB9LAogIGRlYWN0aXZhdGVkKCkgewogICAgdGhpcy5lbXByZXNhRGF0YSA9IFtdLAogICAgdGhpcy5nbG9iYWxDb21wb25lbnRLZXkgPSAwLAogICAgdGhpcy5lbXByZXNhcmlvRGF0YSA9IFtdLAogICAgdGhpcy5kb25hdGl2b3NFbXByZXNhRGF0YSA9IFtdLAogICAgdGhpcy5jb21wb25lbnRLZXkgPSAwLAogICAgdGhpcy5zaG93Rm9ybUVtcHJlc2FyaW9zID0gZmFsc2UsCiAgICB0aGlzLmNvdW50RW1wcmVzYXJpb3MgPSAwLAogICAgdGhpcy5jb3VudERvbmF0aXZvc0VtcHJlc2EgPSAwCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZW1wcmVzYURhdGE6IFtdLAogICAgICBnbG9iYWxDb21wb25lbnRLZXk6IDAsCiAgICAgIGVtcHJlc2FyaW9EYXRhOiBbXSwKICAgICAgZG9uYXRpdm9zRW1wcmVzYURhdGE6IFtdLAogICAgICBjb21wb25lbnRLZXk6IDAsCiAgICAgIHNob3dGb3JtRW1wcmVzYXJpb3M6IGZhbHNlLAogICAgICAvL2VzdGF0aXN0aWNhczoKICAgICAgY291bnRFbXByZXNhcmlvczogMCwKICAgICAgY291bnREb25hdGl2b3NFbXByZXNhOiAwCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZm9yY2VSZXJlbmRlcigpIHsKICAgICAgdGhpcy5jb21wb25lbnRLZXkgKz0gMTsKICAgICAgdGhpcy5wYWxlc3RyYXNDb21wb25lbnRLZXkgKz0gMTsKICAgIH0sCiAgICBlbmFibGVGb3JtRW1wcmVzYXJpb3MoKSB7CiAgICAgIHRoaXMuc2hvd0Zvcm1FbXByZXNhcmlvcyA9IHRydWU7CiAgICB9LAogICAgCiAgICBkaXNhYmxlRm9ybUVtcHJlc2FyaW9zKCkgewogICAgICB0aGlzLnNob3dGb3JtRW1wcmVzYXJpb3MgPSBmYWxzZTsKICAgIH0sCiAgICBzd2l0Y2hDb21wb25lbnQoY29tcCkgewogICAgICBidXMuJGVtaXQoInN3aXRjaENvbXAiLCBjb21wKTsKICAgIH0sCiAgICB2ZXJQZXNzb2EoaWQpIHsKICAgICAgYnVzLiRlbWl0KCJ2aWV3UGVzc29hIiwgaWQpOwogICAgfQogIH0KfTsK"},{"version":3,"sources":["EmpresaFichaIndividual.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EmpresaFichaIndividual.vue","sourceRoot":"src/components/fichasindividuais","sourcesContent":["\n<template :key=\"componentKey\">\n<div class=\"fichaEmpresa\">\n    <br>\n    <div class=\"voltar\">\n      <button  v-on:click=\"switchComponent('AllEmpresasTable')\">\n        <i class=\"fas fa-reply\"></i>Voltar\n      </button>\n    </div>\n\n    <h1>{{this.empresaData.nomeEmpresa}}</h1>\n    <br>\n    <div class=\"dadosEmpresa\">\n      <div class=\"dadosGerais\">\n        <div class=\"nome\">\n          <label>Morada:</label>\n          <br>\n          {{this.empresaData.moradaEmpresa}}\n        </div>\n\n        <div class=\"telefoneEmpresa\">\n          <label>Telefone:</label>\n          <br>\n          {{this.empresaData.telefoneEmpresa? this.empresaData.telefoneEmpresa : \"N.A.\"}}\n        </div>\n\n        <div>\n          <label>Email:</label>\n          <br>\n          {{this.empresaData.emailEmpresa? this.empresaData.emailEmpresa : \"N.A.\"}}\n        </div>\n\n        <div>\n          <label>NIF:</label>\n          <br>\n          {{this.empresaData.nifEmpresa}}\n        </div>\n\n        <div>\n          <label>Obs:</label>\n          <br>\n          {{this.empresaData.observacoes}}\n        </div>\n\n      </div>\n    </div>\n\n    <br>\n\n    <template v-if=\"this.countEmpresarios\">\n      <div class=\"empresarios\">\n        <h2>Representantes / Empresários: {{this.countEmpresarios}}</h2>\n        <div class=\"dados\">\n          <div id=\"fields\" class=\"tabela\">\n            <table class=\"w3-table-all\">\n              <tr>\n                <th>Nome</th>\n              </tr>\n              <tr\n                class=\"conteudo\"\n                v-for=\"(parts, componentKey) in this.empresarioData\"\n                :key=\"componentKey\"\n              >\n                <td class=\"verButton\">\n                  <a v-on:click=\"verPessoa(parts.idPessoa)\" title=\"Ver Ficha de Pessoa\">{{ parts.nome }}</a>\n                </td>\n                <td class=\"buttons\">\n                </td>\n              </tr>\n            </table>\n          </div>\n        </div>\n      </div>\n    </template>\n\n    <div class=\"buttonAdicionarEmpresario\">\n      <button v-if=\"!showFormEmpresarios\" type=\"button\" v-on:click=\"enableFormEmpresarios()\">\n        <i class=\"fas fa-user-plus\"></i> Inserir Empresário\n      </button>\n    </div>\n\n    <div v-if=\"showFormEmpresarios\">\n      <FormNovoEmpresario\n        :idEmpresa=\"idEmpresa\"\n      ></FormNovoEmpresario>\n      <div class=\"adicionarEmpresarioCancelar\">\n        <button type=\"button\" v-on:click=\"disableFormEmpresarios()\">\n          <i class=\"fas fa-times\"></i> Cancelar\n        </button>\n      </div>\n    </div>\n    <br>\n    <br>\n\n    <template v-if=\"this.countDonativosEmpresa > 0\">\n      <div class=\"apoiosRealizou\">\n        <h2>Donativos que realizou: {{this.countDonativosEmpresa}}</h2>\n        <div class=\"dados\">\n          <div id=\"fields\" class=\"tabela\">\n            <table class=\"w3-table-all\">\n              <tr>\n                <th>Quantidade:</th>\n                <th>Data:</th>\n                <th>Obs.:</th>\n              </tr>\n              <tr\n                class=\"conteudo\"\n                v-for=\"(donativo, componentKey) in this.donativosEmpresaData\"\n                :key=\"componentKey\"\n              >\n                <td>{{ donativo.quantidadeDonativo}}</td>\n                <td>{{ donativo.dataDonativo}}</td>\n                <td>{{ donativo.observacoes}}</td>\n              </tr>\n            </table>\n          </div>\n        </div>\n      </div>\n    </template>\n\n  </div>\n</template>\n\n<script>\n/* eslint-disable */\nvar axios = require(\"axios\");\naxios.interceptors.response.use(\n  response => response,\n  error => {\n      if (error.response.status === 401) { \n        bus.$emit(\"logout\");\n      }\n });\n\nimport { bus } from \"../../main.js\";\nvar self = this;\n//import router from \"../router\"\nexport default {\n  props: {\n    idEmpresa: {\n      type: String,\n      required: true\n    }\n  },\n  created() {\n  },\n  activated() {\n    axios\n      .get(\"api/getDadosEmpresa/\" + this.idEmpresa, {\n        withCredentials: true,\n        headers: { Authorization: `Bearer ` + sessionStorage.getItem(\"token\") }\n      })\n      .then(response => {\n        this.empresaData = response.data[0];\n        if (response.status === 401) {\n          this.$toasted.error(\"Sessão expirou.\");\n          bus.$emit(\"logout\");\n        }\n        //---------------------------\n        axios\n          .get(\"api/getDadosEmpresariosEmpresa/\" + this.idEmpresa, {\n            withCredentials: true,\n            headers: {\n              Authorization: `Bearer ` + sessionStorage.getItem(\"token\")\n            }\n          })\n          .then(response => {\n            if (response.status === 401) {\n              this.$toasted.error(\"Sessão expirou.\");\n              bus.$emit(\"logout\");\n            }\n            this.countEmpresarios = response.data.length;\n            this.empresarioData = response.data;\n            this.$nextTick(this.forceRerender());\n          })\n          .catch(error => {\n            this.error = error;\n          });\n      })\n      .catch(error => {\n        this.error = error;\n      });\n    axios\n          .get(\"api/getDonativosEmpresa/\" + this.idEmpresa, {\n            withCredentials: true,\n            headers: {\n              Authorization: `Bearer ` + sessionStorage.getItem(\"token\")\n            }\n          })\n          .then(response => {\n            if (response.status === 401) {\n              this.$toasted.error(\"Sessão expirou.\");\n              bus.$emit(\"logout\");\n            }\n            this.countDonativosEmpresa = response.data.length;\n            this.donativosEmpresaData = response.data;\n          })\n          .catch(error => {\n\n          });\n  },\n  deactivated() {\n    this.empresaData = [],\n    this.globalComponentKey = 0,\n    this.empresarioData = [],\n    this.donativosEmpresaData = [],\n    this.componentKey = 0,\n    this.showFormEmpresarios = false,\n    this.countEmpresarios = 0,\n    this.countDonativosEmpresa = 0\n  },\n  data() {\n    return {\n      empresaData: [],\n      globalComponentKey: 0,\n      empresarioData: [],\n      donativosEmpresaData: [],\n      componentKey: 0,\n      showFormEmpresarios: false,\n      //estatisticas:\n      countEmpresarios: 0,\n      countDonativosEmpresa: 0\n    };\n  },\n  methods: {\n    forceRerender() {\n      this.componentKey += 1;\n      this.palestrasComponentKey += 1;\n    },\n    enableFormEmpresarios() {\n      this.showFormEmpresarios = true;\n    },\n    \n    disableFormEmpresarios() {\n      this.showFormEmpresarios = false;\n    },\n    switchComponent(comp) {\n      bus.$emit(\"switchComp\", comp);\n    },\n    verPessoa(id) {\n      bus.$emit(\"viewPessoa\", id);\n    }\n  }\n};\n</script>\n\n<style>\n@import url(\"https://fonts.googleapis.com/css?family=Open+Sans\");\n@import url(\"https://www.w3schools.com/w3css/4/w3.css\");\n@import url(\"https://use.fontawesome.com/releases/v5.7.0/css/all.css\");\n\n.fichaEmpresa h1 {\n  text-align: center;\n}\n.fichaEmpresa h2 {\n  text-align: center;\n  background-color: linen;\n}\n\n.fichaEmpresa .voltar button {\n  font-size: 20px;\n  margin-left: 25px;\n  cursor: pointer;\n  border: none;\n  border-radius: 4px;\n  background-color: #eedec0;\n}\n.fichaEmpresa .voltar i {\n  font-size: 17px;\n  margin-right: 3px;\n}\n.fichaEmpresa .voltar button:hover {\n  background-color: #fdf5e6\n}\n\n.fichaEmpresa {\n  font-family: \"Open Sans\";\n}\n.fichaEmpresa .dadosEmpresa {\n  background-color: rgb(238, 222, 192);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.fichaEmpresa .dadosGerais {\n  display: inline-grid;\n  width: 80%;\n  margin-top: 20px;\n  margin-bottom: 20px;\n  background-color: oldlace;\n  padding-top: 15px;\n  padding-bottom: 15px;\n  padding-left: 65px;\n  padding-right: 65px;\n  grid-row-gap: 20px;\n}\n\n.fichaEmpresa .dadosGerais label {\n  font-weight: bold;\n}\n\n.fichaEmpresa .nome {\n  grid-column-start: 1;\n}\n\n.fichaEmpresa .telefoneEmpresa {\n  grid-column-start: 2;\n}\n\n.fichaEmpresa .tabela {\n  width: 70%;\n}\n\n\n.fichaEmpresa .tabela table th {\n  border: 1px solid #ccc;\n}\n.fichaEmpresa .tabela table td {\n  border: 1px solid #ccc;\n}\n.fichaEmpresa .tabela .conteudo:hover {\n  font-weight: bold;\n  background-color: #e2e2e2;\n}\n\n.fichaEmpresa .dados {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.fichaEmpresa .verButton {\n  cursor: pointer;\n}\n.fichaEmpresa .verButton a:hover {\n  font-weight: bold;\n}\n\n\n.fichaEmpresa .apagarButton {\n  cursor: pointer;\n}\n\n.fichaEmpresa .apagarButton a:hover {\n  font-weight: bold;\n}\n\n.fichaEmpresa .dados .buttons {\n  border-color: white;\n  background-color: white;\n  border-top: none;\n  width: 1%;\n}\n\n.fichaEmpresa .buttonAdicionarEmpresario {\n  float: right;\n  margin-right: 18%;\n}\n\n.fichaEmpresa .buttonAdicionarEmpresario button {\n  text-align: center;\n  cursor: pointer;\n  background-color: #f7ae94;\n  border: none;\n  border-radius: 4px;\n}\n\n.fichaEmpresa .buttonAdicionarEmpresario button:hover {\n  background-color: #f88e68;\n}\n\n.fichaEmpresa .adicionarEmpresarioCancelar {\n  float: right;\n  margin-right: 18%;\n}\n\n.fichaEmpresa .adicionarEmpresarioCancelar button {\n  text-align: center;\n  cursor: pointer;\n  background-color: #f7ae94;\n  border: none;\n  border-radius: 4px;\n}\n\n.fichaEmpresa .adicionarEmpresarioCancelar button:hover {\n  background-color: #f88e68;\n}\n\n</style>"]}]}