{"remainingRequest":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Projeto Final\\Entrega\\Software\\Frontend\\src\\components\\registos\\RegistarPagamentoInscricao.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\src\\components\\registos\\RegistarPagamentoInscricao.vue","mtime":1617391304724},{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgpAaW1wb3J0IHVybCgiaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3M/ZmFtaWx5PU9wZW4rU2FucyIpOwpAaW1wb3J0IHVybCgiaHR0cHM6Ly93d3cudzNzY2hvb2xzLmNvbS93M2Nzcy80L3czLmNzcyIpOwpAaW1wb3J0IHVybCgiaHR0cHM6Ly91c2UuZm9udGF3ZXNvbWUuY29tL3JlbGVhc2VzL3Y1LjcuMC9jc3MvYWxsLmNzcyIpOwoKCi5yZWdpc3RhclBhZ2FtZW50b0luc2NyaWNhbyB7CiAgZm9udC1mYW1pbHk6ICJPcGVuIFNhbnMiOwogIGRpc3BsYXk6IGZsZXg7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKfQoKLnJlZ2lzdGFyUGFnYW1lbnRvSW5zY3JpY2FvIC5maWVsZHMgLm9icmlnYXRvcmlvewogIGNvbG9yOiByZWQ7Cn0KCi5yZWdpc3RhclBhZ2FtZW50b0luc2NyaWNhbyAuZmllbGRzIHsKICBkaXNwbGF5OiBpbmxpbmUtZ3JpZDsKICBncmlkLXJvdy1nYXA6IDEwcHg7CiAgZ3JpZC1jb2x1bW4tZ2FwOiA1MHB4OwogIGJhY2tncm91bmQtY29sb3I6IG9sZGxhY2U7CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiA4MCU7CiAgbWFyZ2luLWJvdHRvbTogMjBweDsKfQoucmVnaXN0YXJQYWdhbWVudG9JbnNjcmljYW8gLnZhbG9yIHsKICBncmlkLWNvbHVtbi1zdGFydDogMTsKICBtYXJnaW4tdG9wOiAxMHB4OwogIG1hcmdpbi1sZWZ0OiAyNSU7Cn0KCi5yZWdpc3RhclBhZ2FtZW50b0luc2NyaWNhbyAucGFydGljaXBhbnRlIGlucHV0ewogIG1hcmdpbi1sZWZ0OjEuMiU7Cn0KCi5yZWdpc3RhclBhZ2FtZW50b0luc2NyaWNhbyAudmFsb3IgaW5wdXR7CiAgbWFyZ2luLWxlZnQ6Mi4yJTsKfQoKLnJlZ2lzdGFyUGFnYW1lbnRvSW5zY3JpY2FvIC5yZWNpYm8gaW5wdXR7CiAgbWFyZ2luLWxlZnQ6My41JTsKICBtYXJnaW4tdG9wOjEwcHg7Cn0KCgoucmVnaXN0YXJQYWdhbWVudG9JbnNjcmljYW8gLnBhcnRpY2lwYW50ZXsKICAgZGlzcGxheTppbmxpbmUtYmxvY2s7CiAgIHdpZHRoOiAzMCU7CiAgIG1hcmdpbi1sZWZ0OjI1JTsKfQoKCi5yZWdpc3RhclBhZ2FtZW50b0luc2NyaWNhbyAucmVjaWJvewogICBkaXNwbGF5OmlubGluZS1ibG9jazsKICAgd2lkdGg6IDMwJTsKICAgbWFyZ2luLWxlZnQ6MjUlOwp9CgoucmVnaXN0YXJQYWdhbWVudG9JbnNjcmljYW8gLnJlZ2lzdGFyIHsKICBncmlkLWNvbHVtbi1zdGFydDogMTsKICBtYXJnaW4tdG9wOiAzMHB4OwogIG1hcmdpbi1sZWZ0OiA1MCU7Cn0KCi5yZWdpc3RhclBhZ2FtZW50b0luc2NyaWNhbyAucmVnaXN0YXIgYnV0dG9uIHsKICBoZWlnaHQ6IDUwcHg7CiAgZm9udC1zaXplOiBtZWRpdW07CiAgY3Vyc29yOiBwb2ludGVyOwogIGJvcmRlcjogbm9uZTsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTk5ZDcyOwogIGJvcmRlci1yYWRpdXM6IDZweDsKICBwYWRkaW5nLWxlZnQ6IDE1cHg7CiAgcGFkZGluZy1yaWdodDogMTVweDsKICBtYXJnaW46IGF1dG87Cn0KLnJlZ2lzdGFyUGFnYW1lbnRvSW5zY3JpY2FvIC5yZWdpc3RhciBidXR0b246aG92ZXIgewogIGJhY2tncm91bmQtY29sb3I6ICNmYWI5OTU7Cn0KCg=="},{"version":3,"sources":["RegistarPagamentoInscricao.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwMA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"RegistarPagamentoInscricao.vue","sourceRoot":"src/components/registos","sourcesContent":["<template>\n<div>\n  <br>\n      <div class=\"voltarEvento\">\n            <button v-on:click=\"switchComponent('FormInscricoesEvento')\">\n                <i class=\"fas fa-reply\"></i>Voltar\n            </button>\n            </div>\n    <div>\n        <div class=\"registarPagamentoInscricao\">\n            <div id=\"fields\" class=\"fields\">\n               \n                <h2>Registar Pagamento de Inscrição </h2>\n                 <div class=\"participante\">\n                    <label>Participante:</label>\n                    <input disabled type=\"text\" v-model=\"dadosPessoa.nome\">\n               </div>\n                <div class=\"valor\">\n                    <label>Valor (€):</label>\n                    <input type=\"number\"  step=\"0.01\" v-model.number=\"input.valor\">\n               </div>\n                <div class=\"recibo\">\n                  <label>Nº Recibo:</label>\n                    <input type=\"number\" v-model.number=\"input.recibo\">\n               </div>\n               <div class=\"registar\">\n            <button class=\"registar\" type=\"submit\" v-on:click.prevent=\"submit()\">\n              <i class=\"far fa-save\"></i> Guardar\n            </button>\n          </div>\n            </div>\n        </div>\n    </div>\n  </div>\n</template>\n\n<script>\n/* eslint-disable */\nvar axios = require(\"axios\");\naxios.interceptors.response.use(\n  response => response,\n  error => {\n      if (error.response.status === 401) { \n        bus.$emit(\"logout\");\n      }\n });\n var instance = axios.create({\n          validateStatus: function (status) {\n            return status >= 200 && status < 300;\n          }\n      });\n\nimport { bus } from \"../../main.js\";\nexport default {\n  props:{\n     dadosPessoa: {\n        type: Object,\n        required: true\n        }\n  },\n    data() {\n    return {\n        input: {\n            valor : null,\n            recibo:null\n        },\n        \n    };\n  },\n  computed: {\n     link(){\n      return window.location.href;\n    },\n\n  },\n  activated() {\n    this.input.valor = this.dadosPessoa.valor == -1 ? null : this.dadosPessoa.valor;\n    this.input.recibo = this.dadosPessoa.recibo == -1 ? null : this.dadosPessoa.recibo;\n  },\n\n  methods: {\n    switchComponent(comp) {\n      bus.$emit(\"switchComp\", comp);\n    },\n    clearFields: function() {\n      bus.$emit('refreshEventos');\n     \n    },\n    submit: function() {\n        /*APAGAR O PAGAMENTO*/\n      if(this.input.valor == null || this.input.valor == \"\"){\n          instance\n              .delete(\n                  `/api/deletePagamentoEvento/${this.dadosPessoa.idEvento}/${this.dadosPessoa.idParticipante}`,\n                  {\n                      withCredentials: true,\n                      headers: {\n                          Authorization: `Bearer ` + sessionStorage.getItem(\"token\")\n                      }\n                  }\n              )\n              .then(response => {\n                  this.$toasted.show(\"Pagamento removido com sucesso!\");\n                  this.switchComponent('FormInscricoesEvento');\n              })\n              .catch((errors, response) => {\n\n                  if (errors.response.status === 400) {\n                      this.$toasted.error('Erro ao remvoer pagamento!');\n                  }\n                  if (errors.response.status === 401) {\n                      this.$toasted.error('Sessão expirou!')\n                      bus.$emit(\"logout\");\n                  }\n\n              });\n\n      }\n\n    /*VERIFICA SE É POST OU UPDATE*/\n    else if(this.dadosPessoa.valor != -1 || this.dadosPessoa.recibo != -1){\n      /*NO CASO DE UPDATE, VERIFICA SE OS VALORES FORAM ALTERADOS*/\n      if(this.dadosPessoa.valor == this.input.valor && this.dadosPessoa.recibo == this.input.recibo){\n        this.$toasted.error(\"Valores não foram alterados\");\n        return;\n      }else{\n         instance\n              .put(\n                `/api/editPagamentoEvento/${this.dadosPessoa.idEvento}/${this.dadosPessoa.idParticipante}`,\n                {\n                  valor: this.input.valor,\n                  recibo: this.input.recibo\n                },\n                {\n                  withCredentials: true,\n                  headers: {\n                    Authorization: `Bearer ` + sessionStorage.getItem(\"token\")\n                  }\n                }\n              )\n              .then(response => {\n                this.$toasted.show(\"Pagamento atualizado com sucesso!\");\n                this.switchComponent('FormInscricoesEvento');\n              })\n              .catch((errors, response) => {\n\n                if (errors.response.status === 400) {\n                 this.$toasted.error('Erro ao atualizar pagamento!');\n                }\n                if (errors.response.status === 401) {\n                   this.$toasted.error('Sessão expirou!')\n                    bus.$emit(\"logout\");\n                }\n            \n              });\n\n      }\n    }else{\n      \n      instance\n              .post(\n                \"/api/postPagamentoEvento\",\n                {\n                  idParticipante: this.dadosPessoa.idParticipante,\n                  idEvento:  this.dadosPessoa.idEvento,\n                  valor: this.input.valor,\n                  recibo: this.input.recibo\n                },\n                {\n                  withCredentials: true,\n                  headers: {\n                    Authorization: `Bearer ` + sessionStorage.getItem(\"token\")\n                  }\n                }\n              )\n              .then(response => {\n                this.$toasted.show(\"Pagamento registado com sucesso!\");\n                this.switchComponent('FormInscricoesEvento');\n              })\n              .catch((errors, response) => {\n\n                if (errors.response.status === 400) {\n                 this.$toasted.error('Erro ao registar pagamento!');\n                }\n                if (errors.response.status === 401) {\n                   this.$toasted.error('Sessão expirou!')\n                    bus.$emit(\"logout\");\n                }\n            \n              });\n    }\n      this.input.valor = null;\n      this.input.recibo = null;\n\n    }\n  },\n}\n</script>\n\n<style>\n@import url(\"https://fonts.googleapis.com/css?family=Open+Sans\");\n@import url(\"https://www.w3schools.com/w3css/4/w3.css\");\n@import url(\"https://use.fontawesome.com/releases/v5.7.0/css/all.css\");\n\n\n.registarPagamentoInscricao {\n  font-family: \"Open Sans\";\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.registarPagamentoInscricao .fields .obrigatorio{\n  color: red;\n}\n\n.registarPagamentoInscricao .fields {\n  display: inline-grid;\n  grid-row-gap: 10px;\n  grid-column-gap: 50px;\n  background-color: oldlace;\n  width: 100%;\n  height: 80%;\n  margin-bottom: 20px;\n}\n.registarPagamentoInscricao .valor {\n  grid-column-start: 1;\n  margin-top: 10px;\n  margin-left: 25%;\n}\n\n.registarPagamentoInscricao .participante input{\n  margin-left:1.2%;\n}\n\n.registarPagamentoInscricao .valor input{\n  margin-left:2.2%;\n}\n\n.registarPagamentoInscricao .recibo input{\n  margin-left:3.5%;\n  margin-top:10px;\n}\n\n\n.registarPagamentoInscricao .participante{\n   display:inline-block;\n   width: 30%;\n   margin-left:25%;\n}\n\n\n.registarPagamentoInscricao .recibo{\n   display:inline-block;\n   width: 30%;\n   margin-left:25%;\n}\n\n.registarPagamentoInscricao .registar {\n  grid-column-start: 1;\n  margin-top: 30px;\n  margin-left: 50%;\n}\n\n.registarPagamentoInscricao .registar button {\n  height: 50px;\n  font-size: medium;\n  cursor: pointer;\n  border: none;\n  background-color: #e99d72;\n  border-radius: 6px;\n  padding-left: 15px;\n  padding-right: 15px;\n  margin: auto;\n}\n.registarPagamentoInscricao .registar button:hover {\n  background-color: #fab995;\n}\n\n</style>"]}]}