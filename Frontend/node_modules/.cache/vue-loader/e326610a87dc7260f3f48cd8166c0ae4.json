{"remainingRequest":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Projeto Final\\Entrega\\Software\\Frontend\\src\\components\\tablecomponents\\tableInqueritos.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\src\\components\\tablecomponents\\tableInqueritos.vue","mtime":1617391305073},{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCnZhciBheGlvcyA9IHJlcXVpcmUoImF4aW9zIik7CmF4aW9zLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoCiAgICByZXNwb25zZSA9PiByZXNwb25zZSwKICAgIGVycm9yID0+IHsKICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2Uuc3RhdHVzID09PSA0MDEpIHsKICAgICAgICAgICAgYnVzLiRlbWl0KCJsb2dvdXQiKTsKICAgICAgICB9CiAgICB9KTsKdmFyIGluc3RhbmNlID0gYXhpb3MuY3JlYXRlKHsKICAgIHZhbGlkYXRlU3RhdHVzOiBmdW5jdGlvbiAoc3RhdHVzKSB7CiAgICAgICAgcmV0dXJuIHN0YXR1cyA+PSAyMDAgJiYgc3RhdHVzIDwgMzAwOwogICAgfQp9KTsKaW1wb3J0IHtidXN9IGZyb20gIi4uLy4uL21haW4uanMiOwoKZXhwb3J0IGRlZmF1bHQgewogICAgcHJvcHM6IHsKICAgICAgICBpZEV2ZW50bzogewogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIH0KICAgIH0sCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGlucXVlcml0b3M6ICcnCgogICAgICAgIH0KICAgIH0sIG1ldGhvZHM6IHsKICAgICAgICBtdWRhckNvbXBvbmVudGUoY29tcCkgewogICAgICAgICAgICBidXMuJGVtaXQoInN3aXRjaENvbXAiLCBjb21wKTsKICAgICAgICB9LCBjb25jYXRlbmFRdWVzdG9lcyhxdWVzdG9lcykgewogICAgICAgICAgICB2YXIgYXV4ID0gJyc7CiAgICAgICAgICAgIHF1ZXN0b2VzLmZvckVhY2goZWxlbWVudCA9PiB7CiAgICAgICAgICAgICAgICBhdXggKz0gZWxlbWVudC5xdWVzdGFvICsgIlxuIjsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybiBhdXg7CiAgICAgICAgfSwgc3VibWl0KGlkSW5xdWVyaXRvKSB7CiAgICAgICAgICAgIGluc3RhbmNlLnBvc3QoJ2FwaS9wb3N0QXNzb2NpYXJJbnF1ZXJpdG8nLHsKICAgICAgICAgICAgICAgICdpZElucXVlcml0byc6aWRJbnF1ZXJpdG8sCiAgICAgICAgICAgICAgICAnaWRFdmVudG8nOnRoaXMuaWRFdmVudG8KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciBgICsgc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgICAgdGhpcy4kdG9hc3RlZC5zaG93KCJJbnF1ZXJpdG8gYXNzb2NpYWRvISIpCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgICAgICAgICAgIGlmKGVycm9yLnJlc3BvbnNlLnN0YXR1cyA9PSA0MDApewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiR0b2FzdGVkLmVycm9yKCJPY29ycmV1IHVtIGVycm8hIik7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkKICAgICAgICB9CgogICAgfSwgYmVmb3JlQ3JlYXRlKCkgewoKICAgICAgICBpbnN0YW5jZS5nZXQoJ2FwaS9nZXRBbGxJbnF1ZXJpdG9zJywKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOiB0cnVlLAogICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgYCArIHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInRva2VuIikKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgICAgdGhpcy5pbnF1ZXJpdG9zID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgICAgICAgaWYoZXJyb3IucmVzcG9uc2Uuc3RhdHVzID09IDQwMCl7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kdG9hc3RlZC5lcnJvcigiT2NvcnJldSB1bSBlcnJvISIpOwogICAgICAgICAgICAgICAgfQogICAgICAgIH0pCgogICAgfQp9CgoK"},{"version":3,"sources":["tableInqueritos.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"tableInqueritos.vue","sourceRoot":"src/components/tablecomponents","sourcesContent":["<template>\n    <div>\n        <br>\n        <div class=\"voltarEvento\">\n            <button v-on:click=\"mudarComponente('EventsTablesMenu')\">\n                <i class=\"fas fa-reply\"></i>Voltar\n            </button>\n        </div>\n        <div class=\"inqueritos\">\n            <h1>Associar Inquérito a Evento</h1>\n            <div class=\"tabela\">\n                <table class=\"w3-table-all\" id=\"tabela\">\n                    <tr class=\"conteudo\">\n                        <th>ID</th>\n                        <th>Questoes</th>\n                    </tr>\n                    <tr v-for=\"(inquerito, tableKey) in inqueritos\" :key=\"tableKey\">\n                        <td>{{inquerito.idInquerito}}</td>\n                        <td style=\"white-space: pre-line;\">{{concatenaQuestoes(inquerito.questoes).length > 0 ? concatenaQuestoes(inquerito.questoes) : \"Sem Questões\"}}</td>\n                        <td class=\"buttons\">\n                            <div class=\"associarInqueritoButton\">\n                                <a class=\"fa fa-plug\" v-on:click=\"submit(inquerito.idInquerito)\"\n                                   title=\"Associar Inquérito ao Evento\"></a>\n                            </div>\n                        </td>\n                    </tr>\n                </table>\n            </div>\n            <a class=\"nota\"><b>Nota</b>: Associar um Inquérito a um Evento que já tenha um associado, irá sobrepôr esta associação!</a>\n        </div>\n    </div>\n</template>\n<script>\n    var axios = require(\"axios\");\n    axios.interceptors.response.use(\n        response => response,\n        error => {\n            if (error.response.status === 401) {\n                bus.$emit(\"logout\");\n            }\n        });\n    var instance = axios.create({\n        validateStatus: function (status) {\n            return status >= 200 && status < 300;\n        }\n    });\n    import {bus} from \"../../main.js\";\n\n    export default {\n        props: {\n            idEvento: {\n                required: true\n            }\n        },\n        data() {\n            return {\n                inqueritos: ''\n\n            }\n        }, methods: {\n            mudarComponente(comp) {\n                bus.$emit(\"switchComp\", comp);\n            }, concatenaQuestoes(questoes) {\n                var aux = '';\n                questoes.forEach(element => {\n                    aux += element.questao + \"\\n\";\n                });\n                return aux;\n            }, submit(idInquerito) {\n                instance.post('api/postAssociarInquerito',{\n                    'idInquerito':idInquerito,\n                    'idEvento':this.idEvento\n                    },\n                    {\n                        withCredentials: true,\n                        headers: {\n                            Authorization: `Bearer ` + sessionStorage.getItem(\"token\")\n                        }\n                    }).then(() => {\n                    this.$toasted.show(\"Inquerito associado!\")\n                })\n                    .catch(error => {\n                        if(error.response.status == 400){\n                            this.$toasted.error(\"Ocorreu um erro!\");\n                        }\n                    })\n            }\n\n        }, beforeCreate() {\n\n            instance.get('api/getAllInqueritos',\n                {\n                    withCredentials: true,\n                    headers: {\n                        Authorization: `Bearer ` + sessionStorage.getItem(\"token\")\n                    }\n                })\n                .then(response => {\n                    this.inqueritos = response.data;\n                }).catch(error => {\n                    if(error.response.status == 400){\n                        this.$toasted.error(\"Ocorreu um erro!\");\n                    }\n            })\n\n        }\n    }\n\n\n</script>\n<style>\n    .voltarEvento button {\n        font-size: 20px;\n        margin-left: 25px;\n        cursor: pointer;\n        border: none;\n        border-radius: 4px;\n        background-color: #eedec0;\n    }\n\n    .voltarEvento i {\n        font-size: 17px;\n        margin-right: 3px;\n    }\n\n    .voltarEvento button:hover {\n        background-color: #fdf5e6\n    }\n\n    .inqueritos h1 {\n        text-align: center;\n    }\n\n    .inqueritos {\n        font-family: \"Open Sans\";\n    }\n\n    .inqueritos .tabela {\n        width: 100%;\n        margin-bottom: 20px;\n    }\n\n    .inqueritos #tabela {\n        width: 80%;\n        margin: auto;\n    }\n\n\n    .inqueritos .tabela table td {\n        border: 1px solid #ccc;\n    }\n\n    .inqueritos .dados table td {\n        width: 15%;\n    }\n\n    .inqueritos .tabela table th {\n        border: 1px solid #ccc;\n    }\n\n    .inqueritos .tabela .conteudo:hover {\n        font-weight: bold;\n        background-color: #e2e2e2;\n    }\n\n\n    .inqueritos .tabela .buttons {\n        width:1px;\n        border-color: white;\n        background-color: white;\n        border-top: none;\n    }\n\n\n    .inqueritos .associarInqueritoButton {\n        cursor: pointer;\n    }\n\n    .inqueritos .associarInqueritoButton a:hover {\n        font-weight: bold;\n        font-size: 13px;\n\n    }\n    .inqueritos .nota{\n        margin-left:10%;\n\n    }\n\n\n</style>"]}]}