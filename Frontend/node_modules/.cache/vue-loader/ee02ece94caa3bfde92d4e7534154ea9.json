{"remainingRequest":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Projeto Final\\Entrega\\Software\\Frontend\\src\\components\\registos\\RegistarEmpresa.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\src\\components\\registos\\RegistarEmpresa.vue","mtime":1617391304672},{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCkBpbXBvcnQgdXJsKCJodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2Nzcz9mYW1pbHk9T3BlbitTYW5zIik7CkBpbXBvcnQgdXJsKCJodHRwczovL3d3dy53M3NjaG9vbHMuY29tL3czY3NzLzQvdzMuY3NzIik7CgouZW1wcmVzYXsKCSAgZm9udC1mYW1pbHk6ICJPcGVuIFNhbnMiOwoJICBkaXNwbGF5OiBmbGV4OwogIAlhbGlnbi1pdGVtczogY2VudGVyOwogIAlqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKfQouZW1wcmVzYSAuZmllbGRzewogICAgZGlzcGxheTogaW5saW5lLWdyaWQ7CiAgICBncmlkLXJvdy1nYXA6IDEwcHg7CiAgICBncmlkLWNvbHVtbi1nYXA6IDUwcHg7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBvbGRsYWNlOwogICAgd2lkdGg6IDEwMCU7Cn0KCi5lbXByZXNhIC5maWVsZHMgLm9icmlnYXRvcmlvewogIGNvbG9yOiByZWQ7Cn0KCi5lbXByZXNhIC5ub21lRW1wcmVzYXsKCWdyaWQtY29sdW1uLXN0YXJ0OiAxOwoJbWFyZ2luLXRvcDogMTBweDsKICBtYXJnaW4tbGVmdDogMTE1cHg7Cn0KCi5lbXByZXNhIC5ub21lRW1wcmVzYSBpbnB1dHsKCXdpZHRoOiAxMDAlOwogIGhlaWdodDogMzVweDsKICBib3JkZXI6IDFweCBzb2xpZCAjYTFhMGEwOwogIHBhZGRpbmctbGVmdDogM3B4OwogIGJvcmRlci1yYWRpdXM6IDRweDsKfQoKLmVtcHJlc2EgLm1vcmFkYUVtcHJlc2F7CglncmlkLWNvbHVtbi1zdGFydDogMjsKCW1hcmdpbi10b3A6IDEwcHg7CiAgbWFyZ2luLXJpZ2h0OiAxMTVweDsKfQoKLmVtcHJlc2EgLm1vcmFkYUVtcHJlc2EgaW5wdXR7Cgl3aWR0aDogMTAwJTsKICBoZWlnaHQ6IDM1cHg7CiAgYm9yZGVyOiAxcHggc29saWQgI2ExYTBhMDsKICBwYWRkaW5nLWxlZnQ6IDNweDsKICBib3JkZXItcmFkaXVzOiA0cHg7Cn0KLmVtcHJlc2EgLnRlbGVmb25lRW1wcmVzYXsKICBtYXJnaW4tbGVmdDogMTE1cHg7Cn0KCi5lbXByZXNhIC50ZWxlZm9uZUVtcHJlc2EgaW5wdXR7Cgl3aWR0aDogMTAwJTsKICBoZWlnaHQ6IDM1cHg7CiAgYm9yZGVyOiAxcHggc29saWQgI2ExYTBhMDsKICBwYWRkaW5nLWxlZnQ6IDNweDsKICBib3JkZXItcmFkaXVzOiA0cHg7Cn0KLmVtcHJlc2EgLm5pZkVtcHJlc2F7CiAgbWFyZ2luLXJpZ2h0OiAxMTVweDsKfQoKLmVtcHJlc2EgLm5pZkVtcHJlc2EgaW5wdXR7Cgl3aWR0aDogMTAwJTsKICBoZWlnaHQ6IDM1cHg7CiAgYm9yZGVyOiAxcHggc29saWQgI2ExYTBhMDsKICBwYWRkaW5nLWxlZnQ6IDNweDsKICBib3JkZXItcmFkaXVzOiA0cHg7Cn0KCi5lbXByZXNhIC5lbWFpbEVtcHJlc2F7CiAgbWFyZ2luLWxlZnQ6IDExNXB4Owp9CgouZW1wcmVzYSAuZW1haWxFbXByZXNhIGlucHV0ewoJd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiAzNXB4OwogIGJvcmRlcjogMXB4IHNvbGlkICNhMWEwYTA7CiAgcGFkZGluZy1sZWZ0OiAzcHg7CiAgYm9yZGVyLXJhZGl1czogNHB4Owp9CgouZW1wcmVzYSAub2JzZXJ2YWNvZXN7CiAgbWFyZ2luLXJpZ2h0OiAxMTVweDsKfQouZW1wcmVzYSAub2JzZXJ2YWNvZXMgdGV4dGFyZWF7Cgl3aWR0aDogMTAwJTsKICBoZWlnaHQ6IDE1MHB4OwogIGJvcmRlcjogMXB4IHNvbGlkICNhMWEwYTA7CiAgcGFkZGluZy1sZWZ0OiAzcHg7CiAgYm9yZGVyLXJhZGl1czogNHB4OwogIHJlc2l6ZTogbm9uZTsKfQoKLmVtcHJlc2EgLnJlZ2lzdGFyewogIG1hcmdpbi1yaWdodDogMTE1cHg7CiAgbWFyZ2luLXRvcDogMTVweDsKICBtYXJnaW4tYm90dG9tOiAxNXB4OwogIGdyaWQtY29sdW1uLXN0YXJ0OiAyOwogIGFsaWduLXNlbGY6IGVuZDsKICBqdXN0aWZ5LXNlbGY6IGVuZDsKCn0KCi5lbXByZXNhIC5yZWdpc3RhciBidXR0b257CiAgaGVpZ2h0OiA1MHB4OwogIGZvbnQtc2l6ZTogbWVkaXVtOwogIGN1cnNvcjogcG9pbnRlcjsKICBib3JkZXI6IG5vbmU7CiAgYmFja2dyb3VuZC1jb2xvcjogI2U5OWQ3MjsKICBib3JkZXItcmFkaXVzOiA2cHg7CiAgcGFkZGluZy1sZWZ0OiAxNXB4OwogIHBhZGRpbmctcmlnaHQ6IDE1cHg7CiAgbWFyZ2luOiBhdXRvOwogIAp9Ci5lbXByZXNhIC5yZWdpc3RhciBidXR0b246aG92ZXIgewogIGJhY2tncm91bmQtY29sb3I6ICNmYWI5OTU7Cn0KCg=="},{"version":3,"sources":["RegistarEmpresa.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyKA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"RegistarEmpresa.vue","sourceRoot":"src/components/registos","sourcesContent":["<template>\n  <div>\n    <div class=\"empresa\">\n      <div id=\"fields\" class=\"fields\">\n        <!-- fields: nome, morada, telefone, email, nif, observações-->\n        <div class=\"nomeEmpresa\">\n          <label>Nome:<i class=\"obrigatorio\">*</i></label>\n          <br>\n          <input type=\"text\" v-model=\"input.nome\" name=\"nome\">\n        </div>\n        <div class=\"moradaEmpresa\">\n          <label>Morada:<i class=\"obrigatorio\">*</i></label>\n          <br>\n          <input type=\"text\" v-model=\"input.morada\" name=\"morada\">\n        </div>\n\n        <div class=\"telefoneEmpresa\">\n          <label >Telefone:<i class=\"obrigatorio\">*</i></label>\n          <br>\n          <input type=\"text\" v-model=\"input.telefone\" name=\"telefone\"/>\n        </div>\n\n        <div class=\"nifEmpresa\">\n          <label >NIF:<i class=\"obrigatorio\">*</i></label>\n          <br>\n          <input type=\"text\" v-model=\"input.nif\" name=\"nif\"/>\n        </div>\n\n        <div class=\"emailEmpresa\">\n          <label>Email:<i class=\"obrigatorio\">*</i></label>\n          <br>\n          <input type=\"email\" v-model=\"input.email\" name=\"email\">\n        </div>\n\n        <div class=\"observacoes\">\n          <label>Obs.:</label>\n          <br>\n          <textarea type=\"observacoes\" v-model=\"input.observacoes\" name=\"observacoes\"></textarea>\n        </div>\n\n        <div class=\"registar\">\n          <button class=\"registar\" type=\"submit\" v-on:click.prevent=\"submit()\"><i class=\"far fa-save\"></i> Registar</button>\n        </div>\n          \n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n/* eslint-disable */\nvar axios = require(\"axios\");\naxios.interceptors.response.use(\n  response => response,\n  error => {\n      if (error.response.status === 401) { \n        bus.$emit(\"logout\");\n      }\n });\n\nimport { ModelListSelect } from 'vue-search-select';\nimport { bus } from \"../../main.js\";\nexport default {\n  activated(){\n  },\n  deactivated(){\n      this.clearfields();\n  },\n  data() {\n    var here = this;\n    return {\n      input: {\n       nome: null,\n       morada: null,\n       telefone: null,\n       email: null,\n       nif: null,\n       observacoes: null\n      }\n    };\n  },\n  methods: {\n    clearfields: function() {\n            this.input.nome = null;\n            this.input.morada = null;\n            this.input.telefone = null;\n            this.input.email = null;\n            this.input.nif = null;\n            this.input.observacoes = null;\n            bus.$emit('refreshEmpresas');\n    },\n    submit: function (){\n      //verificar campos obrigatórios\n\n      if(this.input.nome == \"\" || this.input.nome == null ||\n         this.input.morada == \"\" || this.input.morada == null ||\n         this.input.telefone == \"\" || this.input.telefone == null ||\n         this.input.nif == \"\" || this.input.nif == null ||\n         this.input.email == \"\" || this.input.email == null){\n           this.$toasted.error(\"Campos em falta!\");\n           return;\n        }\n\n        if(this.input.telefone.length != 9){\n          this.$toasted.error(\"Número de telefone de tamanho inválido!\");\n          return;\n        }\n\n        if(!/^\\d+$/.test(this.input.telefone)){\n          this.$toasted.error(\"caracteres inválidos no número de telefone!\");\n          return;\n        }\n\n        if(this.input.nif != \"\" && this.input.nif.length != 9){\n          this.$toasted.error(\"NIF de tamanho inválido!\");\n          return;\n        }\n\n        if(this.input.nif.length != 9){\n          this.$toasted.error(\"NIF de tamanho inválido!\");\n          return;\n        }\n\n        if(!/^\\d+$/.test(this.input.nif)){\n          this.$toasted.error(\"caracteres inválidos no NIF!\");\n          return;\n        }\n\n        if(!/\\S+@\\S+\\.\\S+/.test(this.input.email)){\n          this.$toasted.error(\"Formato de email inválido!\");\n          return;\n        }\n\n       axios.post(\"api/postEmpresa\",  {\n          nomeEmpresa: this.input.nome,\n          moradaEmpresa: this.input.morada,\n          telefoneEmpresa: this.input.telefone,\n          emailEmpresa: this.input.email,\n          nifEmpresa: this.input.nif,\n          observacoes: this.input.observacoes\n       }, {withCredentials: true,\n          headers:  {Authorization: `Bearer ` + sessionStorage.getItem(\"token\")},}).\n          then(response => {\n\n          if(response.status === 201){\n            this.$toasted.show(\"criado com suce\")\n            this.clearfields();\n          }\n        })\n       .catch( (errors, response) => {\n         if(errors.response.status === 400){\n            this.$toasted.error(\"Campos incorrectos ou incompletos!\");\n          }\n          if(errors.response.status === 401){\n            this.$toasted.error(\"Sessão expirou.\");\n            bus.$emit(\"logout\");\n          }\n\n\n        });\n    }\n  },\n  components: {\n      ModelListSelect\n  }\n};\n</script>\n\n<style>\n@import url(\"https://fonts.googleapis.com/css?family=Open+Sans\");\n@import url(\"https://www.w3schools.com/w3css/4/w3.css\");\n\n.empresa{\n\t  font-family: \"Open Sans\";\n\t  display: flex;\n  \talign-items: center;\n  \tjustify-content: center;\n}\n.empresa .fields{\n    display: inline-grid;\n    grid-row-gap: 10px;\n    grid-column-gap: 50px;\n    background-color: oldlace;\n    width: 100%;\n}\n\n.empresa .fields .obrigatorio{\n  color: red;\n}\n\n.empresa .nomeEmpresa{\n\tgrid-column-start: 1;\n\tmargin-top: 10px;\n  margin-left: 115px;\n}\n\n.empresa .nomeEmpresa input{\n\twidth: 100%;\n  height: 35px;\n  border: 1px solid #a1a0a0;\n  padding-left: 3px;\n  border-radius: 4px;\n}\n\n.empresa .moradaEmpresa{\n\tgrid-column-start: 2;\n\tmargin-top: 10px;\n  margin-right: 115px;\n}\n\n.empresa .moradaEmpresa input{\n\twidth: 100%;\n  height: 35px;\n  border: 1px solid #a1a0a0;\n  padding-left: 3px;\n  border-radius: 4px;\n}\n.empresa .telefoneEmpresa{\n  margin-left: 115px;\n}\n\n.empresa .telefoneEmpresa input{\n\twidth: 100%;\n  height: 35px;\n  border: 1px solid #a1a0a0;\n  padding-left: 3px;\n  border-radius: 4px;\n}\n.empresa .nifEmpresa{\n  margin-right: 115px;\n}\n\n.empresa .nifEmpresa input{\n\twidth: 100%;\n  height: 35px;\n  border: 1px solid #a1a0a0;\n  padding-left: 3px;\n  border-radius: 4px;\n}\n\n.empresa .emailEmpresa{\n  margin-left: 115px;\n}\n\n.empresa .emailEmpresa input{\n\twidth: 100%;\n  height: 35px;\n  border: 1px solid #a1a0a0;\n  padding-left: 3px;\n  border-radius: 4px;\n}\n\n.empresa .observacoes{\n  margin-right: 115px;\n}\n.empresa .observacoes textarea{\n\twidth: 100%;\n  height: 150px;\n  border: 1px solid #a1a0a0;\n  padding-left: 3px;\n  border-radius: 4px;\n  resize: none;\n}\n\n.empresa .registar{\n  margin-right: 115px;\n  margin-top: 15px;\n  margin-bottom: 15px;\n  grid-column-start: 2;\n  align-self: end;\n  justify-self: end;\n\n}\n\n.empresa .registar button{\n  height: 50px;\n  font-size: medium;\n  cursor: pointer;\n  border: none;\n  background-color: #e99d72;\n  border-radius: 6px;\n  padding-left: 15px;\n  padding-right: 15px;\n  margin: auto;\n  \n}\n.empresa .registar button:hover {\n  background-color: #fab995;\n}\n\n</style>"]}]}