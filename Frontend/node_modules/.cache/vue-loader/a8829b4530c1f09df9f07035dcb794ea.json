{"remainingRequest":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Projeto Final\\Entrega\\Software\\Frontend\\src\\components\\LoginScreen.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\src\\components\\LoginScreen.vue","mtime":1617391304096},{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgpAaW1wb3J0IHVybCgiaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3M/ZmFtaWx5PU9wZW4rU2FucyIpOwpAaW1wb3J0IHVybCgiaHR0cHM6Ly93d3cudzNzY2hvb2xzLmNvbS93M2Nzcy80L3czLmNzcyIpOwoKI2ZhemVyTG9naW4gewogIHdpZHRoOiAzMCU7CiAgcGFkZGluZzogMTBweDsKICBib3JkZXI6IDNweCBzb2xpZCBsaWdodGdyYXk7CiAgb3ZlcmZsb3c6IGhpZGRlbjsKfQoKI211ZGFyUGFzcyB7CiAgcGFkZGluZzogMTBweDsKICBib3JkZXI6IDNweCBzb2xpZCBsaWdodGdyYXk7CiAgd2lkdGg6IDI1JTsKfQoKLmxvZ2luIHsKICBmb250LWZhbWlseTogIk9wZW4gU2FucyI7CiAgZGlzcGxheTogZmxleDsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIGp1c3RpZnktY29udGVudDogY2VudGVyOwp9CgojZmllbGRzIHsKICBwYWRkaW5nOiAzcHg7Cn0KCi5sb2dpbiAuY2FtcG9zIGlucHV0IHsKICBtYXJnaW4tYm90dG9tOiAxNXB4OwogIHdpZHRoOiAxMDAlOwp9CgoubG9naW4gLmNhbXBvcyBidXR0b24gewogIGN1cnNvcjogcG9pbnRlcjsKfQoKLmxvZ2luIC5jYW1wb3MgLmJ1dHRvbnMgewogIGRpc3BsYXk6IGZsZXg7Cn0KCgoKLmxvZ2luIC5jYW1wb3MgYSB7CiAgY3Vyc29yOiBwb2ludGVyOwogIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICBtYXJnaW4tbGVmdDogMTBweDsKICBjb2xvcjogIzA2NDVhZDsKICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTsKfQoKCi5sb2dpbiAuY2FtcG9zTXVkYXJQYXNzIGJ1dHRvbiB7CiAgY3Vyc29yOiBwb2ludGVyOwp9CgoubG9naW4gLmNhbXBvc011ZGFyUGFzcyAuYnRuRW52aWFyIHsKICBtYXJnaW4tbGVmdDogMTBweDsKfQoKLmxvZ2luIC5jYW1wb3NNdWRhclBhc3MgaW5wdXQgewogIHdpZHRoOiA3NSU7Cn0K"},{"version":3,"sources":["LoginScreen.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqJA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA","file":"LoginScreen.vue","sourceRoot":"src/components","sourcesContent":["\n<template>\n  <div class=\"login\">\n    <br>\n    <template v-if=\"!this.changePassBool\">\n      <div id=\"fazerLogin\" class=\"w3-panel\">\n        <h1>Login</h1>\n        <div id=\"fields\" class=\"campos\">\n          <form>\n          <label>\n            <input type=\"email\" name=\"username\" v-model=\"input.username\" placeholder=\"Username\">\n          </label>\n          <label>\n            <input type=\"password\" name=\"password\" v-model=\"input.password\" placeholder=\"Password\">\n          </label>\n          <br>\n          <div class=\"buttons\">\n            <label>\n              <button type=\"submit\" v-on:click.prevent=\"doLogin()\">Login</button>\n            </label>\n            \n            <br>\n            <label class=\"reset\">\n              <a v-on:click.prevent=\"show()\">Esqueci-me da password</a>\n            </label>\n          </div>\n          </form>\n        </div>\n      </div>\n    </template>\n    <template v-else>\n      <div id=\"mudarPass\" class=\"w3-panel\">\n        <div id=\"fields\" class=\"camposMudarPass\">\n          <h3>Alterar Password</h3>\n          <label>\n            Introduza o seu email:\n            <input type=\"email\" v-model=\"input.username\" placeholder=\"e-mail\">\n          </label>\n          <label class=\"btnEnviar\">\n            <button v-on:click.prevent=\"alterPass()\">Enviar</button>\n          </label>\n          <label class=\"btnCancelar\">\n            <button v-on:click.prevent=\"hide()\">Cancelar</button>\n          </label>\n        </div>\n      </div>\n      <template v-if=\"alertBool\">{{this.alertString}}</template>\n    </template>\n  </div>\n</template>\n\n<script>\n/* eslint-disable */\nvar axios = require(\"axios\");\naxios.interceptors.response.use(\n  response => response,\n  error => {\n      if (error.response.status === 401) { \n        bus.$emit(\"logout\");\n      }\n });\n var instance = axios.create({\n          validateStatus: function (status) {\n            return status >= 200 && status < 300;\n          }\n      });\n\n//import router from \"../router\"\nexport default {\n  name: \"LoginScreen\",\n  data() {\n    var here = this;\n    return {\n      input: {\n        username: \"\",\n        password: \"\"\n      },\n      changePassBool: false,\n      alertBool: false,\n      alertString: \"Foi enviado um email com instruções.\"\n    };\n  },\n  mounted() {\n    axios\n      .get(\"api/validateToken\", {\n        withCredentials: true,\n        headers: { Authorization: `Bearer ` + sessionStorage.getItem(\"token\") }\n      })\n      .then(response => {\n        if (response.status === 201) {\n          this.$emit(\"auth\", true);\n        }\n        if (response.status === 401) {\n          this.$emit(\"auth\", false);\n        }\n      });\n  },\n  activated() {\n    this.input.username = \"\";\n    this.input.password = \"\";\n  },\n  methods: {\n     alterPass: function() {\n      instance\n        .post(\"api/requestPasswordReset\", {\n          username: this.input.username.replace(/[\"\\\"\\'\"]/g, \"\")},\n        )\n        .then(response => {\n              this.alertString = \"Foi enviado um email com instruções.\";\n              this.showAlert()\n        })\n         .catch(error =>{\n          this.alertString = \"Ocorreu um erro\";\n          this.showAlert()\n        });\n    },\n    showAlert: function() {\n      this.alertBool = true;\n    },\n    show: function() {\n      this.changePassBool = true;\n    },\n    hide: function() {\n      this.changePassBool = false;\n      this.alertBool = false;\n    },\n    doLogin: function(event) {\n\n      let data = {\n        username: this.input.username.replace(/[\"\\\"\\'\"]/g, \"\"),\n        password: this.input.password.replace(/[\"\\\"\\'\"]/g, \"\")\n      };\n\n      axios\n        .post(\"api/login\", data)\n        .then(response => {\n          sessionStorage.setItem(\"token\", response.data.token);\n          this.$emit(\"auth\", true);\n        })\n        .catch(errors => {\n\n          this.$toasted.error(\"Email ou Password incorrectos!\");\n        });\n    }\n  }\n};\n</script>\n\n<style>\n@import url(\"https://fonts.googleapis.com/css?family=Open+Sans\");\n@import url(\"https://www.w3schools.com/w3css/4/w3.css\");\n\n#fazerLogin {\n  width: 30%;\n  padding: 10px;\n  border: 3px solid lightgray;\n  overflow: hidden;\n}\n\n#mudarPass {\n  padding: 10px;\n  border: 3px solid lightgray;\n  width: 25%;\n}\n\n.login {\n  font-family: \"Open Sans\";\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n#fields {\n  padding: 3px;\n}\n\n.login .campos input {\n  margin-bottom: 15px;\n  width: 100%;\n}\n\n.login .campos button {\n  cursor: pointer;\n}\n\n.login .campos .buttons {\n  display: flex;\n}\n\n\n\n.login .campos a {\n  cursor: pointer;\n  display: inline-block;\n  margin-left: 10px;\n  color: #0645ad;\n  text-decoration: underline;\n}\n\n\n.login .camposMudarPass button {\n  cursor: pointer;\n}\n\n.login .camposMudarPass .btnEnviar {\n  margin-left: 10px;\n}\n\n.login .camposMudarPass input {\n  width: 75%;\n}\n</style>"]}]}