{"remainingRequest":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Projeto Final\\Entrega\\Software\\Frontend\\src\\components\\tablecomponents\\AllEmpresasTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\src\\components\\tablecomponents\\AllEmpresasTable.vue","mtime":1617391305048},{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* eslint-disable */\nvar axios = require(\"axios\");\n\naxios.interceptors.response.use(function (response) {\n  return response;\n}, function (error) {\n  if (error.response.status === 401) {\n    bus.$emit(\"logout\");\n  }\n});\nvar self = this;\nimport { bus } from \"../../main.js\"; //import router from \"../router\"\n\nexport default {\n  created: function created() {\n    var _this = this;\n\n    bus.$on('refreshEmpresa', function () {\n      _this.showFormDonativo = false;\n\n      _this.$forceUpdate();\n    });\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    bus.$on('refreshEmpresas', function () {\n      _this2.registarEmpresa = false;\n      axios.get(\"api/getAllEmpresas\", {\n        withCredentials: true,\n        headers: {\n          Authorization: \"Bearer \" + sessionStorage.getItem(\"token\")\n        }\n      }).then(function (response) {\n        _this2.allEmpresas = response.data;\n\n        if (response.status === 401) {\n          _this2.$toasted.error(\"Sess達o expirou.\");\n\n          bus.$emit(\"logout\");\n        }\n      }).catch(function (error) {\n        _this2.error = error;\n      });\n      _this2.tableKey++;\n\n      _this2.$forceUpdate();\n    });\n  },\n  activated: function activated() {\n    var _this3 = this;\n\n    axios.get(\"api/getAllEmpresas\", {\n      withCredentials: true,\n      headers: {\n        Authorization: \"Bearer \" + sessionStorage.getItem(\"token\")\n      }\n    }).then(function (response) {\n      _this3.allEmpresas = response.data;\n\n      if (response.status === 401) {\n        _this3.$toasted.error(\"Sess達o expirou.\");\n\n        bus.$emit(\"logout\");\n      }\n    }).catch(function (error) {\n      _this3.error = error;\n    });\n  },\n  data: function data() {\n    return {\n      allEmpresas: [],\n      tableKey: 0,\n      registarEmpresa: false,\n      registarEmpresaText: \"Registar Empresa\",\n      showFormDonativo: false,\n      registarDonativoText: \"Registar Donativo\"\n    };\n  },\n  methods: {\n    toggleRegistarDonativo: function toggleRegistarDonativo() {\n      this.showFormDonativo = !this.showFormDonativo;\n\n      if (this.showFormDonativo) {\n        this.registarDonativoText = \"Cancelar\";\n      } else {\n        this.registarDonativoText = \"Registar Donativo\";\n      }\n    },\n    toggleRegistarEmpresa: function toggleRegistarEmpresa() {\n      this.registarEmpresa = !this.registarEmpresa;\n\n      if (this.registarEmpresa) {\n        this.registarEmpresaText = \"Cancelar\";\n      } else {\n        this.registarEmpresaText = \"Registar Empresa\";\n      }\n    },\n    ver: function ver(idEmpresa) {\n      bus.$emit('viewEmpresa', idEmpresa);\n    },\n    editarEmpresa: function editarEmpresa(data) {\n      bus.$emit(\"editarEmpresa\", data);\n    }\n  }\n};",{"version":3,"sources":["AllEmpresasTable.vue"],"names":[],"mappings":"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","sourcesContent":["\n<template>\n  <div class=\"empresas\">\n    <br>\n    <h1>Empresas</h1>\n    <br>\n    <div class=\"dados\">\n      <div id=\"fields\" class=\"tabela\">\n        <div class=\"buttonsRegisto\">\n        <div class=\"buttonAdicionarEmpresa\">\n          <button v-on:click=\"toggleRegistarEmpresa()\">\n            <i class=\"fas fa-plus-circle\"></i> {{this.registarEmpresaText}}\n          </button>\n          </div>\n        <div class=\"buttonAdicionarDonativo\">\n          <button v-on:click=\"toggleRegistarDonativo()\">\n            <i class=\"fas fa-plus-circle\"></i> {{this.registarDonativoText}}\n          </button>\n        </div>\n        </div>\n\n        <template v-if=\"registarEmpresa\">\n          <keep-alive>\n          <RegistarEmpresa/>\n          </keep-alive>\n        </template>\n\n        <template v-if=\"showFormDonativo\">\n            <RegistarDonativo :tipoDonativo=\"'e'\"/>\n          </template>\n        \n        <table class=\"w3-table-all\" id=\"tabela\">\n          <tr>\n            <th>Nome</th>\n            <th>Email</th>\n            <th>Telefone</th>\n            <!--<th>Dados </th>-->\n          </tr>\n          <!--ID, nome, tipo, data, local -->\n          <tr class=\"conteudo\" v-for=\"(empresa, tableKey) in allEmpresas\" :key=\"tableKey\">\n            <td class=\"verButton\"><a v-on:click=\"ver(empresa.idEmpresa)\" title=\"Ver Ficha de Empresa\"> {{ empresa.nomeEmpresa }} </a></td>\n            <td>{{ empresa.emailEmpresa }}</td>\n            <td>{{ empresa.telefoneEmpresa }}</td>\n            <td class = \"buttons\">\n              <div class=\"editarButton\">\n                  <a class=\"fas fa-user-edit\" v-on:click=\"editarEmpresa(empresa)\" title=\"Editar\"> </a>\n              </div>\n            </td>\n          </tr>\n        </table>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n/* eslint-disable */\nvar axios = require(\"axios\");\naxios.interceptors.response.use(\n  response => response,\n  error => {\n      if (error.response.status === 401) { \n        bus.$emit(\"logout\");\n      }\n });\n\nvar self = this;\nimport { bus } from \"../../main.js\";\n//import router from \"../router\"\nexport default {\n  created() {\n    bus.$on('refreshEmpresa', () =>{\n        this.showFormDonativo = false;\n        this.$forceUpdate();\n    })\n  },\n  mounted(){\n    bus.$on('refreshEmpresas', () =>{\n        this.registarEmpresa = false;\n         axios.get(\"api/getAllEmpresas\", {withCredentials: true, headers: { Authorization: `Bearer ` + sessionStorage.getItem(\"token\")}})\n        .then(response => {(this.allEmpresas = response.data)\n        if(response.status === 401){\n            this.$toasted.error(\"Sess達o expirou.\");\n            bus.$emit(\"logout\");\n          }\n        }).catch(error => {\n        this.error = error;\n      });\n        this.tableKey++;\n        this.$forceUpdate();\n    })\n  },\n  activated(){\n    axios.get(\"api/getAllEmpresas\", {withCredentials: true, headers: { Authorization: `Bearer ` + sessionStorage.getItem(\"token\")}})\n        .then(response => {(this.allEmpresas = response.data)\n        if(response.status === 401){\n            this.$toasted.error(\"Sess達o expirou.\");\n            bus.$emit(\"logout\");\n          }\n        }).catch(error => {\n        this.error = error;\n      });\n  },\n  data() {\n    return {\n      allEmpresas: [],\n      tableKey: 0,\n      registarEmpresa: false,\n      registarEmpresaText: \"Registar Empresa\",\n      showFormDonativo: false,\n      registarDonativoText: \"Registar Donativo\"\n    }\n  },\n  methods: {\n    toggleRegistarDonativo(){\n      this.showFormDonativo = !this.showFormDonativo;\n      if(this.showFormDonativo){\n        this.registarDonativoText = \"Cancelar\";\n      }else{\n        this.registarDonativoText = \"Registar Donativo\";\n      }\n    },\n    toggleRegistarEmpresa(){\n      this.registarEmpresa = !this.registarEmpresa;\n      if(this.registarEmpresa){\n        this.registarEmpresaText = \"Cancelar\";\n      }else{\n        this.registarEmpresaText = \"Registar Empresa\";\n      }\n    },\n    ver(idEmpresa){\n        bus.$emit('viewEmpresa', idEmpresa);\n    },\n    editarEmpresa(data){\n        bus.$emit(\"editarEmpresa\", data);\n    }\n  }\n}\n</script>\n\n<style>\n@import url(\"https://fonts.googleapis.com/css?family=Open+Sans\");\n@import url(\"https://www.w3schools.com/w3css/4/w3.css\");\n\n\n.empresas h1 {\n  text-align: center;\n}\n\n.empresas{\n\tfont-family: \"Open Sans\";\n}\n\n.empresas .menuEventos{\n  text-align: center;\n  display: flex;\n}\n\n.empresas .tabela{\n\twidth: 100%;\n  margin-bottom: 20px;\n}\n\n.empresas #tabela{\n  width: 80%;\n  margin: auto;\n}\n\n.empresas .tabela table td{\n  border: 1px solid #ccc;\n}\n\n.empresas .dados table td{\n  width: 25%;\n}\n\n.empresas .tabela table th{\n  border: 1px solid #ccc;\n}\n.empresas .tabela .conteudo:hover{\n  font-weight: bold;\n  background-color: #e2e2e2\n  \n}\n\n.empresas .dados{\n\tdisplay: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.empresas .verButton{\n  cursor: pointer;\n  \n}\n.empresas .verButton a:hover{\n  font-weight: bold;\n}\n\n.empresas .editarButton{\n  cursor: pointer;\n  \n}\n\n.empresas .editarButton a:hover{\n  font-weight: bold;\n  font-size: 13px;\n\n}\n\n.empresas .dados .buttons{\n  border-color: white;\n  background-color: white;\n  border-top: none;\n  width: 1%;\n}\n\n.empresas .buttonsRegisto{\n  margin-bottom: 5px;\n  margin-left: 15%;\n  display: -webkit-box;\n}\n\n.empresas .buttonsRegisto button {\n  text-align: center;\n  cursor: pointer;\n  background-color: #ffe885;\n  border: none;\n  border-radius: 4px;\n  margin-right: 5px;\n}\n\n.empresas .buttonsRegisto button:hover {\n  background-color: #ffdd47;\n}\n\n</style>"],"sourceRoot":"src/components/tablecomponents"}]}