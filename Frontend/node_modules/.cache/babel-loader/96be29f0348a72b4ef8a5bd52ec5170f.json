{"remainingRequest":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Projeto Final\\Entrega\\Software\\Frontend\\src\\components\\registos\\RegistoCriacaoInscricaoEvento.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\src\\components\\registos\\RegistoCriacaoInscricaoEvento.vue","mtime":1617391304798},{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.string.link\";\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* eslint-disable */\nvar axios = require(\"axios\");\n\naxios.interceptors.response.use(function (response) {\n  return response;\n}, function (error) {\n  if (error.response.status === 401) {\n    bus.$emit(\"logout\");\n  }\n});\nimport { bus } from \"../../main.js\";\nexport default {\n  data: function data() {\n    var here = this;\n    return {\n      input: {\n        evento: null\n      },\n      eventoText: \"Procurar por nome, data ou local\",\n      allEventos: [],\n      linkInscricao: \"\"\n    };\n  },\n  computed: {\n    link: function link() {\n      return window.location.href;\n    }\n  },\n  activated: function activated() {\n    var _this = this;\n\n    axios.get(\"api/getAllEventosIdNome\", {\n      withCredentials: true,\n      headers: {\n        Authorization: \"Bearer \" + sessionStorage.getItem(\"token\")\n      }\n    }).then(function (response) {\n      _this.allEventos = response.data;\n\n      if (errors.response.status === 401) {\n        _this.$toasted.error(\"Sessão expirou.\");\n\n        bus.$emit(\"logout\");\n      }\n    }).catch(function (error) {\n      if (error.response.status === 401) {\n        _this.$toasted.error(\"Sessão expirou.\");\n\n        bus.$emit(\"logout\");\n      }\n    });\n  },\n  methods: {\n    clearFields: function clearFields() {\n      bus.$emit('refreshEventos');\n    },\n    submit: function submit() {\n      var _this2 = this;\n\n      if (this.input.evento == null) {\n        this.$toasted.error('Selecione um evento!');\n        return;\n      }\n\n      if (this.input.evento.tokenRegisto != \"\") {\n        this.$toasted.error('Evento já possui link para inscrição!');\n        return;\n      }\n\n      axios.get(\"api/getLinkRegistoEvento/\".concat(this.input.evento.id), {\n        withCredentials: true,\n        headers: {\n          Authorization: \"Bearer \" + sessionStorage.getItem(\"token\")\n        }\n      }).then(function (response) {\n        _this2.linkInscricao = _this2.link + \"inscricaoEvento/\" + response.data;\n        _this2.input.evento.tokenRegisto = response.data;\n        bus.$emit('refreshEventos');\n\n        if (errors.response.status === 401) {\n          _this2.$toasted.error(\"Sessão expirou.\");\n\n          bus.$emit(\"logout\");\n        }\n\n        _this2.$toasted.show(\"Link criado com sucesso!\");\n      }).catch(function (error) {\n        if (error.response.status === 401) {\n          _this2.$toasted.error(\"Sessão expirou.\");\n\n          bus.$emit(\"logout\");\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["RegistoCriacaoInscricaoEvento.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div>\n        <div class=\"registarCriacaoinscricaoEvento\">\n            <div id=\"fields\" class=\"fields\">\n                <div class=\"evento\">\n                    <label>Evento:* <i class=\"obrigatorio\"></i></label>\n                    <div class=\"autocomplete\">          \n                        <vue-single-select \n                            v-model=\"input.evento\"\n                            :options=\"allEventos\"\n                            v-bind:placeholder= \"eventoText\"\n                            option-label=\"nome\"\n                        ></vue-single-select>  \n                    </div>\n                </div>\n                <div class=\"linkEvento\">\n                   <label>Link para Inscrição:* <i class=\"obrigatorio\"></i></label>\n                   <a v-bind:href=\"linkInscricao\">{{linkInscricao}}</a>\n                </div>\n\n                 <div class=\"registar\">\n                    <button type=\"submit\" v-on:click.prevent=\"submit()\"><i class=\"far fa-save\"></i> Criar Link</button>\n                  </div>\n            </div>\n           \n        </div>\n    </div>\n</template>\n\n<script>\n/* eslint-disable */\nvar axios = require(\"axios\");\naxios.interceptors.response.use(\n  response => response,\n  error => {\n      if (error.response.status === 401) { \n        bus.$emit(\"logout\");\n      }\n });\nimport { bus } from \"../../main.js\";\nexport default {\n    data() {\n    var here = this;\n    return {\n        input: {\n            evento : null\n        },\n        eventoText: \"Procurar por nome, data ou local\",\n        allEventos : [],\n        linkInscricao :\"\"\n    };\n  },\n  computed: {\n     link(){\n      return window.location.href;\n    }\n  },\n  activated() {\n    axios\n      .get(\"api/getAllEventosIdNome\", {\n        withCredentials: true,\n        headers: { Authorization: `Bearer ` + sessionStorage.getItem(\"token\") }\n      })\n      .then(response => {\n        this.allEventos = response.data\n        if (errors.response.status === 401) {\n          this.$toasted.error(\"Sessão expirou.\");\n          bus.$emit(\"logout\");\n        }\n      })\n      .catch(error => {\n         if(error.response.status === 401){\n            this.$toasted.error(\"Sessão expirou.\");\n            bus.$emit(\"logout\");\n            }\n      });\n  \n  },\n\n  methods: {\n    clearFields: function() {\n      bus.$emit('refreshEventos');\n     \n    },\n    submit: function() {\n      if(this.input.evento == null){\n         this.$toasted.error('Selecione um evento!');\n         return;\n      }\n\n      if(this.input.evento.tokenRegisto != \"\"){\n        this.$toasted.error('Evento já possui link para inscrição!');\n        return;\n      }\n      \n      axios\n      .get(`api/getLinkRegistoEvento/${this.input.evento.id}`, {\n        withCredentials: true,\n        headers: { Authorization: `Bearer ` + sessionStorage.getItem(\"token\") }\n      })\n      .then(response => {\n        this.linkInscricao = this.link +  \"inscricaoEvento/\" + response.data;\n        this.input.evento.tokenRegisto = response.data;\n        bus.$emit('refreshEventos');\n\n        if (errors.response.status === 401) {\n          this.$toasted.error(\"Sessão expirou.\");\n          bus.$emit(\"logout\");\n        }\n\n\n        this.$toasted.show(\"Link criado com sucesso!\")\n      })\n      .catch(error => {\n         if(error.response.status === 401){\n            this.$toasted.error(\"Sessão expirou.\");\n            bus.$emit(\"logout\");\n            }\n      });\n\n\n\n    }\n  },\n}\n</script>\n\n<style>\n@import url(\"https://fonts.googleapis.com/css?family=Open+Sans\");\n@import url(\"https://www.w3schools.com/w3css/4/w3.css\");\n@import url(\"https://use.fontawesome.com/releases/v5.7.0/css/all.css\");\n\n\n.registarCriacaoinscricaoEvento {\n  font-family: \"Open Sans\";\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.registarCriacaoinscricaoEvento .fields .obrigatorio{\n  color: red;\n}\n\n.registarCriacaoinscricaoEvento .fields {\n  display: inline-grid;\n  grid-row-gap: 10px;\n  grid-column-gap: 50px;\n  background-color: oldlace;\n  width: 100%;\n  height: 80%;\n  margin-bottom: 20px;\n}\n.registarCriacaoinscricaoEvento .evento {\n  grid-column-start: 1;\n  margin-top: 10px;\n  margin-left: 15%;\n}\n\n\n.registarCriacaoinscricaoEvento .evento .autocomplete{\n   display:inline-block;\n   width: 30%;\n   margin-left:7%;\n}\n\n.registarCriacaoinscricaoEvento .linkEvento {\n  grid-column-start: 1;\n  margin-top: 10px;\n  margin-left: 15%;\n}\n\n\n.registarCriacaoinscricaoEvento .linkEvento a{\n   display:inline-block;\n   width: 30%;\n   margin-left:1%;\n}\n\n.registarCriacaoinscricaoEvento .registar {\n  margin-top: 30px;\n  margin-left: 30%;\n}\n\n.registarCriacaoinscricaoEvento .registar button {\n  height: 50px;\n  font-size: medium;\n  cursor: pointer;\n  border: none;\n  background-color: #e99d72;\n  border-radius: 6px;\n  padding-left: 15px;\n  padding-right: 15px;\n  margin: auto;\n}\n.registarCriacaoinscricaoEvento .registar button:hover {\n  background-color: #fab995;\n}\n\n</style>"],"sourceRoot":"src/components/registos"}]}