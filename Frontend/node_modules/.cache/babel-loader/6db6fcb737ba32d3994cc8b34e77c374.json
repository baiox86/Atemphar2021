{"remainingRequest":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Projeto Final\\Entrega\\Software\\Frontend\\src\\components\\registos\\FormInscricoesEvento.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\src\\components\\registos\\FormInscricoesEvento.vue","mtime":1617391304544},{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar axios = require(\"axios\");\n\naxios.interceptors.response.use(function (response) {\n  return response;\n}, function (error) {\n  if (error.response.status === 401) {\n    bus.$emit(\"logout\");\n  }\n});\nimport { bus } from \"../../main.js\";\nexport default {\n  data: function data() {\n    return {\n      allInscricoes: null,\n      registarPagamento: false,\n      registarComparecimentoTodosText: \"Alterar Comparências do Evento\"\n    };\n  },\n  props: {\n    dadosEvento: {\n      type: Object,\n      required: true\n    }\n  },\n  activated: function activated() {\n    var _this = this;\n\n    axios.get(\"api/getInscricoesPagamentoEvento/\".concat(this.dadosEvento.idEvento), {\n      withCredentials: true,\n      headers: {\n        Authorization: \"Bearer \" + sessionStorage.getItem(\"token\")\n      }\n    }).then(function (response) {\n      _this.allInscricoes = response.data;\n    }).catch(function (error) {\n      if (error.response.status === 401) {\n        _this.$toasted.error(\"Sessão expirou.\");\n\n        bus.$emit(\"logout\");\n      }\n    });\n  },\n  methods: {\n    switchComponent: function switchComponent(comp) {\n      bus.$emit(\"switchComp\", comp);\n    },\n    editar: function editar(data) {\n      bus.$emit(\"registarPagamentoInscricao\", data);\n    },\n    registarComparecimento: function registarComparecimento(inscricao) {\n      var _this2 = this;\n\n      axios.patch(\"api/patchComparecimentoInscricao/\".concat(this.dadosEvento.idEvento, \"/\").concat(inscricao.idParticipante), null, {\n        withCredentials: true,\n        headers: {\n          Authorization: \"Bearer \" + sessionStorage.getItem(\"token\")\n        }\n      }).then(function (response) {\n        inscricao.flagCompareceu = !inscricao.flagCompareceu;\n\n        if (inscricao.flagCompareceu) {\n          _this2.$toasted.show(\"Comparecimento registado com sucesso!\");\n        } else {\n          _this2.$toasted.show(\"Falta de comparência registada com sucesso!\");\n        }\n\n        if (response.status == 409) {\n          _this2.$toasted.error(\"Ocorreu um erro\");\n        }\n      }).catch(function (error) {\n        if (error.response.status === 401) {\n          _this2.$toasted.error(\"Sessão expirou.\");\n\n          bus.$emit(\"logout\");\n        }\n      });\n    },\n    registarComparecimentoTodos: function registarComparecimentoTodos() {\n      var _this3 = this;\n\n      axios.patch(\"api/patchComparecimentoInscricao/\".concat(this.dadosEvento.idEvento), null, {\n        withCredentials: true,\n        headers: {\n          Authorization: \"Bearer \" + sessionStorage.getItem(\"token\")\n        }\n      }).then(function (response) {\n        _this3.allInscricoes.forEach(function (part, index, theArray) {\n          theArray[index].flagCompareceu = !theArray[index].flagCompareceu;\n        });\n\n        _this3.$toasted.show(\"Comparências alteradas com sucesso!\");\n\n        if (response.status == 409) {\n          _this3.$toasted.error(\"Ocorreu um erro\");\n        }\n      }).catch(function (error) {\n        if (error.response.status === 401) {\n          _this3.$toasted.error(\"Sessão expirou.\");\n\n          bus.$emit(\"logout\");\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["FormInscricoesEvento.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div>\n        <br>\n        <div class=\"voltarEvento\">\n            <button v-on:click=\"switchComponent('EventsTablesMenu')\">\n                <i class=\"fas fa-reply\"></i>Voltar\n            </button>\n        </div>\n        <div class=\"inscricoes\">\n            <div v-if=\"this.allInscricoes.length > 0\">\n                <h1>Inscrições no Evento </h1>\n                <div class=\"buttonRegistarComparecimentoTodos\">\n                    <button v-on:click=\"registarComparecimentoTodos()()\">\n                        <i class=\"fas fa-plus-circle\"></i> {{this.registarComparecimentoTodosText}}\n                    </button>\n                </div>\n                <div class=\"dados\">\n                    <table class=\"w3-table-all\" id=\"tabela\">\n                        <tr>\n                            <th>Nome</th>\n                            <th>Email</th>\n                            <th>Primeiro Evento</th>\n                            <th>Compareceu</th>\n                            <th>Pagamento Necessário</th>\n                            <th>Valor (€)</th>\n                            <th>Nº Recibo</th>\n\n                        </tr>\n                        <tr class=\"conteudo\" v-for=\"(inscricao, tableKey) in allInscricoes\" :key=\"tableKey\">\n                            <td>{{ inscricao.nome}}</td>\n                            <td>{{ inscricao.email }}</td>\n                            <td>{{ inscricao.flagPrimeiroEvento == true ? 'Sim' : 'Não' }}</td>\n                            <td>{{ inscricao.flagCompareceu == true ? 'Sim' : 'Não' }}</td>\n                            <td>{{ inscricao.necessitaPagamento == true ? 'Sim' : 'Não' }}</td>\n                            <td>{{ inscricao.valor == -1 ? \"\" : inscricao.valor }}</td>\n                            <td>{{ inscricao.recibo == -1 ? \"\" : inscricao.recibo }}</td>\n                            <td class=\"buttons\" v-if=\"inscricao.necessitaPagamento\">\n                                <div class=\"editarButton\">\n                                    <a class=\"fas fa-credit-card\" v-on:click=\"editar(inscricao)\" title=\"Editar\"></a>\n                                </div>\n                                <div class=\"registarCompareceu\">\n                                    <a class=\"fas fa-check\" v-on:click=\"registarComparecimento(inscricao)\"\n                                       title=\"Comparência\"></a>\n                                </div>\n                            </td>\n                        </tr>\n                    </table>\n                </div>\n            </div>\n            <h1 v-else>\n                Sem inscrições no Evento\n            </h1>\n        </div>\n    </div>\n</template>\n<script>\n    var axios = require(\"axios\");\n    axios.interceptors.response.use(\n        response => response,\n        error => {\n            if (error.response.status === 401) {\n                bus.$emit(\"logout\");\n            }\n        });\n    import {bus} from \"../../main.js\";\n\n    export default {\n        data() {\n            return {\n                allInscricoes: null,\n                registarPagamento: false,\n                registarComparecimentoTodosText: \"Alterar Comparências do Evento\"\n            };\n        },\n        props: {\n            dadosEvento: {\n                type: Object,\n                required: true\n            }\n        },\n        activated() {\n            axios\n                .get(`api/getInscricoesPagamentoEvento/${this.dadosEvento.idEvento}`, {\n                    withCredentials: true,\n                    headers: {Authorization: `Bearer ` + sessionStorage.getItem(\"token\")}\n                })\n                .then(response => {\n                    this.allInscricoes = response.data;\n                })\n                .catch(error => {\n                    if (error.response.status === 401) {\n                        this.$toasted.error(\"Sessão expirou.\");\n                        bus.$emit(\"logout\");\n                    }\n                });\n        },\n        methods: {\n            switchComponent(comp) {\n                bus.$emit(\"switchComp\", comp);\n            },\n            editar(data) {\n                bus.$emit(\"registarPagamentoInscricao\", data);\n            },\n            registarComparecimento(inscricao) {\n                axios\n                    .patch(`api/patchComparecimentoInscricao/${this.dadosEvento.idEvento}/${inscricao.idParticipante}`, null, {\n                        withCredentials: true,\n                        headers: {Authorization: `Bearer ` + sessionStorage.getItem(\"token\")}\n                    })\n                    .then(response => {\n                        inscricao.flagCompareceu = !inscricao.flagCompareceu;\n                        if (inscricao.flagCompareceu) {\n                            this.$toasted.show(\"Comparecimento registado com sucesso!\");\n                        } else {\n                            this.$toasted.show(\"Falta de comparência registada com sucesso!\");\n                        }\n\n                        if (response.status == 409) {\n                            this.$toasted.error(\"Ocorreu um erro\");\n                        }\n\n                    })\n                    .catch(error => {\n                        if (error.response.status === 401) {\n                            this.$toasted.error(\"Sessão expirou.\");\n                            bus.$emit(\"logout\");\n                        }\n                    });\n            },\n            registarComparecimentoTodos() {\n                axios\n                    .patch(`api/patchComparecimentoInscricao/${this.dadosEvento.idEvento}`, null, {\n                        withCredentials: true,\n                        headers: {Authorization: `Bearer ` + sessionStorage.getItem(\"token\")}\n                    })\n                    .then(response => {\n                        this.allInscricoes.forEach(function (part, index, theArray) {\n                            theArray[index].flagCompareceu = !theArray[index].flagCompareceu;\n                        });\n\n                        this.$toasted.show(\"Comparências alteradas com sucesso!\");\n\n\n                        if (response.status == 409) {\n                            this.$toasted.error(\"Ocorreu um erro\");\n                        }\n                    })\n                    .catch(error => {\n                        if (error.response.status === 401) {\n                            this.$toasted.error(\"Sessão expirou.\");\n                            bus.$emit(\"logout\");\n                        }\n                    });\n            }\n\n        }\n    }\n</script>\n<style>\n\n\n    .voltarEvento button {\n        font-size: 20px;\n        margin-left: 25px;\n        cursor: pointer;\n        border: none;\n        border-radius: 4px;\n        background-color: #eedec0;\n    }\n\n    .voltarEvento i {\n        font-size: 17px;\n        margin-right: 3px;\n    }\n\n    .voltarEvento button:hover {\n        background-color: #fdf5e6\n    }\n\n    .inscricoes h1 {\n        text-align: center;\n    }\n\n    .inscricoes {\n        font-family: \"Open Sans\";\n    }\n\n    .inscricoes .tabela {\n        width: 100%;\n        margin-bottom: 20px;\n    }\n\n    .inscricoes #tabela {\n        width: 80%;\n        margin-top: 10px;\n    }\n\n    .inscricoes .dados .idEvento {\n        width: 5%;\n    }\n\n    .inscricoes .tabela table td {\n        border: 1px solid #ccc;\n    }\n\n    .inscricoes .dados table td {\n        width: 25%;\n    }\n\n    .inscricoes .tabela table th {\n        border: 1px solid #ccc;\n    }\n\n    .inscricoes .tabela .conteudo:hover {\n        font-weight: bold;\n        background-color: #e2e2e2;\n    }\n\n    .inscricoes .dados {\n        display: flex;\n        justify-content: center;\n    }\n\n    .inscricoes .editarButton {\n        cursor: pointer;\n    }\n\n    .inscricoes .editarButton a:hover {\n        font-weight: bold;\n        font-size: 13px;\n\n    }\n\n    .inscricoes .registarCompareceu {\n        cursor: pointer;\n    }\n\n    .inscricoes .registarCompareceu a:hover {\n        font-weight: bold;\n        font-size: 13px;\n\n    }\n\n\n    .inscricoes .dados .buttons {\n        border-color: white;\n        background-color: white;\n        border-top: none;\n        border: none;\n    }\n\n    .inscricoes .buttonRegistarComparecimentoTodos {\n        margin-top: 10px;\n        margin-left: 10%;\n        display: flex;\n    }\n\n    .inscricoes .buttonRegistarComparecimentoTodos button {\n        text-align: center;\n        cursor: pointer;\n        background-color: #a2e3fb;\n        border: none;\n        border-radius: 4px;\n    }\n\n    .inscricoes .buttonRegistarComparecimentoTodos button:hover {\n        background-color: #43cbfd;;\n    }\n\n\n</style>"],"sourceRoot":"src/components/registos"}]}