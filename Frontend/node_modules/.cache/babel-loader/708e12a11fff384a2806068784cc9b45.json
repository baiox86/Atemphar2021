{"remainingRequest":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Projeto Final\\Entrega\\Software\\Frontend\\src\\components\\tablecomponents\\pessoas\\AllAmigoSocioTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\src\\components\\tablecomponents\\pessoas\\AllAmigoSocioTable.vue","mtime":1617391305183},{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* eslint-disable */\nvar axios = require(\"axios\");\n\naxios.interceptors.response.use(function (response) {\n  return response;\n}, function (error) {\n  if (error.response.status === 401) {\n    bus.$emit(\"logout\");\n  }\n});\nvar self = this;\nimport { bus } from \"../../../main.js\"; //import router from \"../router\"\n\nexport default {\n  mounted: function mounted() {\n    var _this = this;\n\n    bus.$on('refreshAmigoSocio', function () {\n      _this.tableKey++;\n      _this.showFormDonativo = false;\n\n      _this.$forceUpdate();\n    });\n  },\n  activated: function activated() {\n    var _this2 = this;\n\n    axios.get(\"api/getAllAmigoSocio\", {\n      withCredentials: true,\n      headers: {\n        Authorization: \"Bearer \" + sessionStorage.getItem(\"token\")\n      }\n    }).then(function (response) {\n      _this2.allAmigoSocio = response.data;\n\n      if (response.status === 401) {\n        _this2.$toasted.error(\"Sessão expirou.\");\n\n        bus.$emit(\"logout\");\n      }\n    }).catch(function (error) {\n      if (error.response.status === 401) {\n        _this2.$toasted.error(\"Sessão expirou.\");\n\n        bus.$emit(\"logout\");\n      }\n    });\n  },\n  data: function data() {\n    return {\n      allAmigoSocio: null,\n      showFormDonativo: false,\n      tableKey: 0\n    };\n  },\n  computed: {},\n  methods: {\n    toggleRegistarDonativo: function toggleRegistarDonativo() {\n      this.showFormDonativo = !this.showFormDonativo;\n    },\n    ver: function ver(idPessoa) {\n      bus.$emit(\"viewPessoa\", idPessoa);\n    },\n    editar: function editar(data) {\n      bus.$emit(\"editarPessoa\", data);\n    },\n    checkEstadoAmigoSocio: function checkEstadoAmigoSocio(data) {\n      try {\n        if (new Date(data).getTime() < new Date().getTime()) {\n          return \"Expirado\";\n        } else {\n          return \"Válido\";\n        }\n      } catch (error) {}\n    }\n  }\n};",{"version":3,"sources":["AllAmigoSocioTable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsDA;AACA,IAAA,KAAA,GAAA,OAAA,CAAA,OAAA,CAAA;;AACA,KAAA,CAAA,YAAA,CAAA,QAAA,CAAA,GAAA,CACA,UAAA,QAAA;AAAA,SAAA,QAAA;AAAA,CADA,EAEA,UAAA,KAAA,EAAA;AACA,MAAA,KAAA,CAAA,QAAA,CAAA,MAAA,KAAA,GAAA,EAAA;AACA,IAAA,GAAA,CAAA,KAAA,CAAA,QAAA;AACA;AACA,CANA;AAQA,IAAA,IAAA,GAAA,IAAA;AACA,SAAA,GAAA,2B,CACA;;AACA,eAAA;AACA,EAAA,OADA,qBACA;AAAA;;AACA,IAAA,GAAA,CAAA,GAAA,CAAA,mBAAA,EAAA,YAAA;AACA,MAAA,KAAA,CAAA,QAAA;AACA,MAAA,KAAA,CAAA,gBAAA,GAAA,KAAA;;AACA,MAAA,KAAA,CAAA,YAAA;AACA,KAJA;AAKA,GAPA;AAQA,EAAA,SARA,uBAQA;AAAA;;AACA,IAAA,KAAA,CACA,GADA,CACA,sBADA,EACA;AACA,MAAA,eAAA,EAAA,IADA;AAEA,MAAA,OAAA,EAAA;AAAA,QAAA,aAAA,EAAA,YAAA,cAAA,CAAA,OAAA,CAAA,OAAA;AAAA;AAFA,KADA,EAKA,IALA,CAKA,UAAA,QAAA,EAAA;AACA,MAAA,MAAA,CAAA,aAAA,GAAA,QAAA,CAAA,IAAA;;AACA,UAAA,QAAA,CAAA,MAAA,KAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,QAAA,CAAA,KAAA,CAAA,iBAAA;;AACA,QAAA,GAAA,CAAA,KAAA,CAAA,QAAA;AACA;AACA,KAXA,EAYA,KAZA,CAYA,UAAA,KAAA,EAAA;AACA,UAAA,KAAA,CAAA,QAAA,CAAA,MAAA,KAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,QAAA,CAAA,KAAA,CAAA,iBAAA;;AACA,QAAA,GAAA,CAAA,KAAA,CAAA,QAAA;AACA;AACA,KAjBA;AAkBA,GA3BA;AA4BA,EAAA,IA5BA,kBA4BA;AACA,WAAA;AACA,MAAA,aAAA,EAAA,IADA;AAEA,MAAA,gBAAA,EAAA,KAFA;AAGA,MAAA,QAAA,EAAA;AAHA,KAAA;AAKA,GAlCA;AAmCA,EAAA,QAAA,EAAA,EAnCA;AAoCA,EAAA,OAAA,EAAA;AACA,IAAA,sBADA,oCACA;AACA,WAAA,gBAAA,GAAA,CAAA,KAAA,gBAAA;AACA,KAHA;AAIA,IAAA,GAJA,eAIA,QAJA,EAIA;AACA,MAAA,GAAA,CAAA,KAAA,CAAA,YAAA,EAAA,QAAA;AACA,KANA;AAOA,IAAA,MAPA,kBAOA,IAPA,EAOA;AACA,MAAA,GAAA,CAAA,KAAA,CAAA,cAAA,EAAA,IAAA;AACA,KATA;AAUA,IAAA,qBAVA,iCAUA,IAVA,EAUA;AACA,UAAA;AACA,YAAA,IAAA,IAAA,CAAA,IAAA,EAAA,OAAA,KAAA,IAAA,IAAA,GAAA,OAAA,EAAA,EAAA;AACA,iBAAA,UAAA;AACA,SAFA,MAEA;AACA,iBAAA,QAAA;AACA;AACA,OANA,CAMA,OAAA,KAAA,EAAA,CAEA;AACA;AApBA;AApCA,CAAA","sourcesContent":["\n<template>\n  <div class=\"tabelaAmigoSocio\">\n    <div class=\"dados\">\n      <div id=\"fields\" class=\"tabela\">\n        <div class=\"buttonAdicionarDonativo\">\n          \n          <button v-on:click=\"toggleRegistarDonativo()\">\n            <template v-if=\"showFormDonativo\">\n              <i class=\"fas fa-angle-left\"></i> Cancelar\n            </template>\n            <template v-else>\n               <i class=\"fas fa-plus-circle\"></i> Registar Donativo\n            </template>\n          </button>\n        </div>\n        <div>\n          <template v-if=\"showFormDonativo\">\n            <RegistarDonativo :tipoDonativo=\"'p'\"/>\n          </template>\n        </div>\n        <table class=\"w3-table-all\" id=\"tabela\">\n          <tr>\n            <th>ID</th>\n            <th>Nome</th>\n            <th>Email</th>\n            <th>Telefone</th>\n            <th>Estado do Estatuto: </th>\n            <!--<th>Dados</th>-->\n          </tr>\n          <tr class=\"conteudo\" v-for=\"(users, tableKey) in allAmigoSocio\" :key=\"tableKey\">\n            <td class=\"idPessoa\">{{ users.idPessoa }}</td>\n            <td class=\"verButton\">\n              <a v-on:click=\"ver(users.idPessoa)\" title=\"Ver Ficha de Pessoa\">{{ users.nome }}</a>\n            </td>\n            <td>{{users.email}}</td>\n            <td>{{users.telefone}}</td>\n            <td>{{checkEstadoAmigoSocio(users.dataExpiracao)}} </td>\n            <td class=\"buttons\">\n              <!--<div class=\"verButton\">\n                  <a v-on:click=\"ver(users.idPessoa)\"> Ver </a>\n              </div>-->\n              <div class=\"editarButton\">\n                <a class=\"fas fa-user-edit\" v-on:click=\"editar(users)\" title=\"Editar\"></a>\n              </div>\n            </td>\n          </tr>\n        </table>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n/* eslint-disable */\nvar axios = require(\"axios\");\naxios.interceptors.response.use(\n  response => response,\n  error => {\n      if (error.response.status === 401) { \n        bus.$emit(\"logout\");\n      }\n });\n\nvar self = this;\nimport { bus } from \"../../../main.js\";\n//import router from \"../router\"\nexport default {\n  mounted() {\n    bus.$on('refreshAmigoSocio', () =>{\n        this.tableKey++;\n        this.showFormDonativo = false;\n        this.$forceUpdate();\n    })\n  },\n  activated() {\n    axios\n      .get(\"api/getAllAmigoSocio\", {\n        withCredentials: true,\n        headers: { Authorization: `Bearer ` + sessionStorage.getItem(\"token\") }\n      })\n      .then(response => {\n        this.allAmigoSocio = response.data;\n        if (response.status === 401) {\n          this.$toasted.error(\"Sessão expirou.\");\n          bus.$emit(\"logout\");\n        }\n      })\n      .catch(error => {\n        if(error.response.status === 401){\n            this.$toasted.error(\"Sessão expirou.\");\n            bus.$emit(\"logout\");\n            }\n      });\n  },\n  data() {\n    return {\n      allAmigoSocio: null,\n      showFormDonativo: false,\n      tableKey: 0\n    };\n  },\n  computed: {},\n  methods: {\n    toggleRegistarDonativo(){\n      this.showFormDonativo = !this.showFormDonativo;\n    },\n    ver(idPessoa) {\n      bus.$emit(\"viewPessoa\", idPessoa);\n    },\n    editar(data) {\n      bus.$emit(\"editarPessoa\", data);\n    },\n    checkEstadoAmigoSocio(data){\n      try{\n      if(new Date(data).getTime() < new Date().getTime()){\n        return \"Expirado\";\n      }else{\n        return \"Válido\";\n      }\n      }catch(error){\n\n      }\n    }\n  }\n};\n\n\n</script>\n\n<style>\n@import url(\"https://fonts.googleapis.com/css?family=Open+Sans\");\n@import url(\"https://www.w3schools.com/w3css/4/w3.css\");\n@import url(\"https://use.fontawesome.com/releases/v5.7.0/css/all.css\");\n\n.tabelaAmigoSocio h1 {\n  text-align: center;\n}\n\n.tabelaAmigoSocio {\n  font-family: \"Open Sans\";\n}\n\n.tabelaAmigoSocio .tabela .conteudo:hover{\n  font-weight: bold;\n  background-color: #e2e2e2\n  \n}\n.tabelaAmigoSocio .tabela {\n  width: 100%;\n  margin-bottom: 20px;\n}\n.tabela #tabela{\n  width: 70%;\n  margin: auto;\n}\n.tabelaAmigoSocio .dados .idPessoa {\n  width: 3%;\n}\n.tabelaAmigoSocio .tabela table td {\n  border: 1px solid #ccc;\n}\n\n.tabelaAmigoSocio .dados table td {\n  width: 25%;\n}\n\n.tabelaAmigoSocio .tabela table th {\n  border: 1px solid #ccc;\n}\n\n.tabelaAmigoSocio .dados {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.tabelaAmigoSocio .verButton {\n  cursor: pointer;\n}\n.tabelaAmigoSocio .verButton a:hover {\n  font-weight: bold;\n}\n\n.tabelaAmigoSocio .editarButton {\n  cursor: pointer;\n}\n\n.tabelaAmigoSocio .editarButton a:hover {\n  font-weight: bold;\n  font-size: 13px;\n}\n\n.tabelaAmigoSocio .dados .buttons {\n  border-color: white;\n  background-color: white;\n  border-top: none;\n  width: 1%;\n}\n\n.tabelaAmigoSocio .buttonAdicionarDonativo {\n  margin-bottom: 5px;\n  margin-left: 15%;\n}\n\n.tabelaAmigoSocio .buttonAdicionarDonativo button {\n  text-align: center;\n  cursor: pointer;\n  background-color: #a7ec82;\n  border: none;\n  border-radius: 4px;\n}\n\n.tabelaAmigoSocio .buttonAdicionarDonativo button:hover {\n  background-color: #72d33d;\n}\n</style>"],"sourceRoot":"src/components/tablecomponents/pessoas"}]}