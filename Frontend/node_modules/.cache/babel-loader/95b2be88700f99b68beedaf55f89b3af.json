{"remainingRequest":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Projeto Final\\Entrega\\Software\\Frontend\\src\\components\\registos\\RegistarPagamentoInscricao.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\src\\components\\registos\\RegistarPagamentoInscricao.vue","mtime":1617391304724},{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* eslint-disable */\nvar axios = require(\"axios\");\n\naxios.interceptors.response.use(function (response) {\n  return response;\n}, function (error) {\n  if (error.response.status === 401) {\n    bus.$emit(\"logout\");\n  }\n});\nvar instance = axios.create({\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n});\nimport { bus } from \"../../main.js\";\nexport default {\n  props: {\n    dadosPessoa: {\n      type: Object,\n      required: true\n    }\n  },\n  data: function data() {\n    return {\n      input: {\n        valor: null,\n        recibo: null\n      }\n    };\n  },\n  computed: {\n    link: function link() {\n      return window.location.href;\n    }\n  },\n  activated: function activated() {\n    this.input.valor = this.dadosPessoa.valor == -1 ? null : this.dadosPessoa.valor;\n    this.input.recibo = this.dadosPessoa.recibo == -1 ? null : this.dadosPessoa.recibo;\n  },\n  methods: {\n    switchComponent: function switchComponent(comp) {\n      bus.$emit(\"switchComp\", comp);\n    },\n    clearFields: function clearFields() {\n      bus.$emit('refreshEventos');\n    },\n    submit: function submit() {\n      var _this = this;\n\n      /*APAGAR O PAGAMENTO*/\n      if (this.input.valor == null || this.input.valor == \"\") {\n        instance.delete(\"/api/deletePagamentoEvento/\".concat(this.dadosPessoa.idEvento, \"/\").concat(this.dadosPessoa.idParticipante), {\n          withCredentials: true,\n          headers: {\n            Authorization: \"Bearer \" + sessionStorage.getItem(\"token\")\n          }\n        }).then(function (response) {\n          _this.$toasted.show(\"Pagamento removido com sucesso!\");\n\n          _this.switchComponent('FormInscricoesEvento');\n        }).catch(function (errors, response) {\n          if (errors.response.status === 400) {\n            _this.$toasted.error('Erro ao remvoer pagamento!');\n          }\n\n          if (errors.response.status === 401) {\n            _this.$toasted.error('Sessão expirou!');\n\n            bus.$emit(\"logout\");\n          }\n        });\n      }\n      /*VERIFICA SE É POST OU UPDATE*/\n      else if (this.dadosPessoa.valor != -1 || this.dadosPessoa.recibo != -1) {\n          /*NO CASO DE UPDATE, VERIFICA SE OS VALORES FORAM ALTERADOS*/\n          if (this.dadosPessoa.valor == this.input.valor && this.dadosPessoa.recibo == this.input.recibo) {\n            this.$toasted.error(\"Valores não foram alterados\");\n            return;\n          } else {\n            instance.put(\"/api/editPagamentoEvento/\".concat(this.dadosPessoa.idEvento, \"/\").concat(this.dadosPessoa.idParticipante), {\n              valor: this.input.valor,\n              recibo: this.input.recibo\n            }, {\n              withCredentials: true,\n              headers: {\n                Authorization: \"Bearer \" + sessionStorage.getItem(\"token\")\n              }\n            }).then(function (response) {\n              _this.$toasted.show(\"Pagamento atualizado com sucesso!\");\n\n              _this.switchComponent('FormInscricoesEvento');\n            }).catch(function (errors, response) {\n              if (errors.response.status === 400) {\n                _this.$toasted.error('Erro ao atualizar pagamento!');\n              }\n\n              if (errors.response.status === 401) {\n                _this.$toasted.error('Sessão expirou!');\n\n                bus.$emit(\"logout\");\n              }\n            });\n          }\n        } else {\n          instance.post(\"/api/postPagamentoEvento\", {\n            idParticipante: this.dadosPessoa.idParticipante,\n            idEvento: this.dadosPessoa.idEvento,\n            valor: this.input.valor,\n            recibo: this.input.recibo\n          }, {\n            withCredentials: true,\n            headers: {\n              Authorization: \"Bearer \" + sessionStorage.getItem(\"token\")\n            }\n          }).then(function (response) {\n            _this.$toasted.show(\"Pagamento registado com sucesso!\");\n\n            _this.switchComponent('FormInscricoesEvento');\n          }).catch(function (errors, response) {\n            if (errors.response.status === 400) {\n              _this.$toasted.error('Erro ao registar pagamento!');\n            }\n\n            if (errors.response.status === 401) {\n              _this.$toasted.error('Sessão expirou!');\n\n              bus.$emit(\"logout\");\n            }\n          });\n        }\n\n      this.input.valor = null;\n      this.input.recibo = null;\n    }\n  }\n};",{"version":3,"sources":["RegistarPagamentoInscricao.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n<div>\n  <br>\n      <div class=\"voltarEvento\">\n            <button v-on:click=\"switchComponent('FormInscricoesEvento')\">\n                <i class=\"fas fa-reply\"></i>Voltar\n            </button>\n            </div>\n    <div>\n        <div class=\"registarPagamentoInscricao\">\n            <div id=\"fields\" class=\"fields\">\n               \n                <h2>Registar Pagamento de Inscrição </h2>\n                 <div class=\"participante\">\n                    <label>Participante:</label>\n                    <input disabled type=\"text\" v-model=\"dadosPessoa.nome\">\n               </div>\n                <div class=\"valor\">\n                    <label>Valor (€):</label>\n                    <input type=\"number\"  step=\"0.01\" v-model.number=\"input.valor\">\n               </div>\n                <div class=\"recibo\">\n                  <label>Nº Recibo:</label>\n                    <input type=\"number\" v-model.number=\"input.recibo\">\n               </div>\n               <div class=\"registar\">\n            <button class=\"registar\" type=\"submit\" v-on:click.prevent=\"submit()\">\n              <i class=\"far fa-save\"></i> Guardar\n            </button>\n          </div>\n            </div>\n        </div>\n    </div>\n  </div>\n</template>\n\n<script>\n/* eslint-disable */\nvar axios = require(\"axios\");\naxios.interceptors.response.use(\n  response => response,\n  error => {\n      if (error.response.status === 401) { \n        bus.$emit(\"logout\");\n      }\n });\n var instance = axios.create({\n          validateStatus: function (status) {\n            return status >= 200 && status < 300;\n          }\n      });\n\nimport { bus } from \"../../main.js\";\nexport default {\n  props:{\n     dadosPessoa: {\n        type: Object,\n        required: true\n        }\n  },\n    data() {\n    return {\n        input: {\n            valor : null,\n            recibo:null\n        },\n        \n    };\n  },\n  computed: {\n     link(){\n      return window.location.href;\n    },\n\n  },\n  activated() {\n    this.input.valor = this.dadosPessoa.valor == -1 ? null : this.dadosPessoa.valor;\n    this.input.recibo = this.dadosPessoa.recibo == -1 ? null : this.dadosPessoa.recibo;\n  },\n\n  methods: {\n    switchComponent(comp) {\n      bus.$emit(\"switchComp\", comp);\n    },\n    clearFields: function() {\n      bus.$emit('refreshEventos');\n     \n    },\n    submit: function() {\n        /*APAGAR O PAGAMENTO*/\n      if(this.input.valor == null || this.input.valor == \"\"){\n          instance\n              .delete(\n                  `/api/deletePagamentoEvento/${this.dadosPessoa.idEvento}/${this.dadosPessoa.idParticipante}`,\n                  {\n                      withCredentials: true,\n                      headers: {\n                          Authorization: `Bearer ` + sessionStorage.getItem(\"token\")\n                      }\n                  }\n              )\n              .then(response => {\n                  this.$toasted.show(\"Pagamento removido com sucesso!\");\n                  this.switchComponent('FormInscricoesEvento');\n              })\n              .catch((errors, response) => {\n\n                  if (errors.response.status === 400) {\n                      this.$toasted.error('Erro ao remvoer pagamento!');\n                  }\n                  if (errors.response.status === 401) {\n                      this.$toasted.error('Sessão expirou!')\n                      bus.$emit(\"logout\");\n                  }\n\n              });\n\n      }\n\n    /*VERIFICA SE É POST OU UPDATE*/\n    else if(this.dadosPessoa.valor != -1 || this.dadosPessoa.recibo != -1){\n      /*NO CASO DE UPDATE, VERIFICA SE OS VALORES FORAM ALTERADOS*/\n      if(this.dadosPessoa.valor == this.input.valor && this.dadosPessoa.recibo == this.input.recibo){\n        this.$toasted.error(\"Valores não foram alterados\");\n        return;\n      }else{\n         instance\n              .put(\n                `/api/editPagamentoEvento/${this.dadosPessoa.idEvento}/${this.dadosPessoa.idParticipante}`,\n                {\n                  valor: this.input.valor,\n                  recibo: this.input.recibo\n                },\n                {\n                  withCredentials: true,\n                  headers: {\n                    Authorization: `Bearer ` + sessionStorage.getItem(\"token\")\n                  }\n                }\n              )\n              .then(response => {\n                this.$toasted.show(\"Pagamento atualizado com sucesso!\");\n                this.switchComponent('FormInscricoesEvento');\n              })\n              .catch((errors, response) => {\n\n                if (errors.response.status === 400) {\n                 this.$toasted.error('Erro ao atualizar pagamento!');\n                }\n                if (errors.response.status === 401) {\n                   this.$toasted.error('Sessão expirou!')\n                    bus.$emit(\"logout\");\n                }\n            \n              });\n\n      }\n    }else{\n      \n      instance\n              .post(\n                \"/api/postPagamentoEvento\",\n                {\n                  idParticipante: this.dadosPessoa.idParticipante,\n                  idEvento:  this.dadosPessoa.idEvento,\n                  valor: this.input.valor,\n                  recibo: this.input.recibo\n                },\n                {\n                  withCredentials: true,\n                  headers: {\n                    Authorization: `Bearer ` + sessionStorage.getItem(\"token\")\n                  }\n                }\n              )\n              .then(response => {\n                this.$toasted.show(\"Pagamento registado com sucesso!\");\n                this.switchComponent('FormInscricoesEvento');\n              })\n              .catch((errors, response) => {\n\n                if (errors.response.status === 400) {\n                 this.$toasted.error('Erro ao registar pagamento!');\n                }\n                if (errors.response.status === 401) {\n                   this.$toasted.error('Sessão expirou!')\n                    bus.$emit(\"logout\");\n                }\n            \n              });\n    }\n      this.input.valor = null;\n      this.input.recibo = null;\n\n    }\n  },\n}\n</script>\n\n<style>\n@import url(\"https://fonts.googleapis.com/css?family=Open+Sans\");\n@import url(\"https://www.w3schools.com/w3css/4/w3.css\");\n@import url(\"https://use.fontawesome.com/releases/v5.7.0/css/all.css\");\n\n\n.registarPagamentoInscricao {\n  font-family: \"Open Sans\";\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.registarPagamentoInscricao .fields .obrigatorio{\n  color: red;\n}\n\n.registarPagamentoInscricao .fields {\n  display: inline-grid;\n  grid-row-gap: 10px;\n  grid-column-gap: 50px;\n  background-color: oldlace;\n  width: 100%;\n  height: 80%;\n  margin-bottom: 20px;\n}\n.registarPagamentoInscricao .valor {\n  grid-column-start: 1;\n  margin-top: 10px;\n  margin-left: 25%;\n}\n\n.registarPagamentoInscricao .participante input{\n  margin-left:1.2%;\n}\n\n.registarPagamentoInscricao .valor input{\n  margin-left:2.2%;\n}\n\n.registarPagamentoInscricao .recibo input{\n  margin-left:3.5%;\n  margin-top:10px;\n}\n\n\n.registarPagamentoInscricao .participante{\n   display:inline-block;\n   width: 30%;\n   margin-left:25%;\n}\n\n\n.registarPagamentoInscricao .recibo{\n   display:inline-block;\n   width: 30%;\n   margin-left:25%;\n}\n\n.registarPagamentoInscricao .registar {\n  grid-column-start: 1;\n  margin-top: 30px;\n  margin-left: 50%;\n}\n\n.registarPagamentoInscricao .registar button {\n  height: 50px;\n  font-size: medium;\n  cursor: pointer;\n  border: none;\n  background-color: #e99d72;\n  border-radius: 6px;\n  padding-left: 15px;\n  padding-right: 15px;\n  margin: auto;\n}\n.registarPagamentoInscricao .registar button:hover {\n  background-color: #fab995;\n}\n\n</style>"],"sourceRoot":"src/components/registos"}]}