{"remainingRequest":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Projeto Final\\Entrega\\Software\\Frontend\\src\\components\\registos\\FormAddInquerito.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\src\\components\\registos\\FormAddInquerito.vue","mtime":1617391304462},{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { bus } from \"../../main.js\";\n/* eslint-disable */\n\nvar axios = require(\"axios\");\n\naxios.interceptors.response.use(function (response) {\n  return response;\n}, function (error) {\n  if (error.response.status === 401) {\n    bus.$emit(\"logout\");\n  }\n});\nvar instance = axios.create({\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n});\nexport default {\n  data: function data() {\n    return {\n      idQuestao: 0,\n      counter: 0,\n      questao: {\n        id: '',\n        questao: '',\n        tipoVar: '',\n        intervalo: [\"\"]\n      },\n      questoes: []\n    };\n  },\n  methods: {\n    deleteOpcao: function deleteOpcao(counter) {\n      this.questoes.splice(counter, 1);\n    },\n    constroiIntervalo: function constroiIntervalo(array) {\n      var string = '';\n      array.forEach(function (element) {\n        string += \" \" + element + \",\";\n      });\n      var str = string.slice(0, -1);\n      return str;\n    },\n    adicionarValor: function adicionarValor() {\n      this.questao.intervalo.push('');\n    },\n    deleteValor: function deleteValor(intervalo, counter) {\n      if (intervalo.length === 1) {\n        this.$toasted.error(\"Mínimo de uma opção!\");\n        return;\n      }\n\n      intervalo.splice(counter, 1);\n    },\n    adicionarQuestao: function adicionarQuestao(questao) {\n      if (questao.questao === '' || questao.tipoVar === '' || questao.tipoVar == 'intervalo' && questao.intervalo.length == 0) {\n        this.$toasted.error(\"Campos obrigatórios vazios!\");\n        return;\n      }\n\n      this.questoes.push({\n        questao: questao.questao,\n        tipoVar: questao.tipoVar,\n        intervalo: questao.intervalo\n      });\n      this.questao = {\n        questao: '',\n        tipoVar: '',\n        intervalo: []\n      };\n      this.$toasted.show(\"Questão adicionada!\");\n    },\n    deleteCampo: function deleteCampo(counter) {\n      this.questao.intervalo.splice(counter, 1);\n    },\n    submit: function submit() {\n      var _this = this;\n\n      if (this.questoes.length <= 0) {\n        this.$toasted.error(\"Mínimo 1 Questão por Inquérito!\");\n        return;\n      }\n\n      var questoes = '{ \\n \"questoes\":' + JSON.stringify(this.questoes) + \"\\n }\";\n      var msg = JSON.parse(questoes);\n      instance.post('api/postInquerito', msg, {\n        withCredentials: true,\n        headers: {\n          Authorization: \"Bearer \" + sessionStorage.getItem(\"token\")\n        }\n      }).then(function () {\n        _this.questoes = [];\n\n        _this.$toasted.show(\"Inquérito Criado!\");\n      }).catch(function (error) {});\n    }\n  }\n};",{"version":3,"sources":["FormAddInquerito.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div>\n        <div class=\"registarInquerito\">\n            <div class=\"fields\">\n                <div class=\"titulo\">\n                    <h3>Questões</h3>\n                </div>\n\n                <div class=\"campos\">\n                    <div class=\"questao\">\n                        <div class=\"valorQuestao\">\n                            <label for=\"questao\">Questão: <i class=\"obrigatorio\"></i></label>\n                            <input id=\"questao\" type=\"text\" v-model.lazy=\"questao.questao\" required>\n                        </div>\n                        <div class=\"tipoQuestao\">\n                            <label>Tipo de Questao:<i class=\"obrigatorio\"></i></label>\n                            <select v-model=\"questao.tipoVar\">\n                                <option value=\"string\">Texto</option>\n                                <option value=\"long\">Número</option>\n                                <option value=\"intervalo\">Várias Opções</option>\n                            </select>\n                            <div class=\"intervalo\" v-if=\"questao.tipoVar=='intervalo'\">\n                                <h5><b>Adicionar Valor</b></h5>\n                                <div v-for=\"(valor,counter) in questao.intervalo\"\n                                     v-bind:key=\"counter\">\n                                    <label for=\"valor\">{{counter + 1}}º Opção: <i class=\"obrigatorio\"></i></label>\n                                    <input id=\"valor\" type=\"text\" v-model.lazy=\"questao.intervalo[counter]\" required>\n                                </div>\n                                <div class=\"buttonsIntervalos\">\n                                    <div class=\"buttonAdicionarValor\">\n                                        <button class=\"fa fa-plus\" @click=\"adicionarValor()\"></button>\n                                    </div>\n                                    <div class=\"buttonEliminarValor\">\n                                        <button class=\"fa fa-trash\"\n                                                @click=\"deleteValor(questao.intervalo,counter)\"></button>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"buttonAdicionarQuestao\">\n                            <button @click=\"adicionarQuestao(questao)\"><i class=\"fa fa-plus\"/>Adicionar Questão</button>\n                        </div>\n                    </div>\n                </div>\n                <h3>Questões Adicionadas</h3>\n                <table class=\"w3-table-all\" id=\"tabela\">\n                    <tr>\n                        <th>ID Questão</th>\n                        <td>Questao</td>\n                        <th>Tipo Questão</th>\n                        <th>Valores Possíveis</th>\n                    </tr>\n                    <tr class=\"conteudo\" v-for=\"(questaoTabela, tableKey) in questoes\" :key=\"tableKey\">\n                        <td>{{tableKey+1}}</td>\n                        <td>{{questaoTabela.questao}}</td>\n                        <td v-if=\"questaoTabela.tipoVar=='string'\">Texto</td>\n                        <td v-if=\"questaoTabela.tipoVar=='intervalo'\">Escolha Múltipla</td>\n                        <td v-if=\"questaoTabela.tipoVar=='long'\">Número</td>\n                        <td v-if=\"questaoTabela.tipoVar=='intervalo'\">{{constroiIntervalo(questaoTabela.intervalo)}}\n                        </td>\n                        <td v-else>NA</td>\n                        <td class=\"buttonsRemover\">\n                            <a class=\"fas fa-trash\" v-on:click=\"deleteOpcao(tableKey)\" title=\"Remover \"></a>\n                        </td>\n                    </tr>\n                </table>\n                <div class=\"registar\">\n                    <button type=\"submit\" v-on:click.prevent=\"submit()\"><i class=\"far fa-save\"></i> Criar Inquérito</button>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import {bus} from \"../../main.js\";\n    /* eslint-disable */\n    var axios = require(\"axios\");\n    axios.interceptors.response.use(\n        response => response,\n        error => {\n            if (error.response.status === 401) {\n                bus.$emit(\"logout\");\n            }\n        });\n    var instance = axios.create({\n        validateStatus: function (status) {\n            return status >= 200 && status < 300;\n        }\n    });\n\n    export default {\n        data() {\n            return {\n                idQuestao: 0,\n                counter: 0,\n                questao: {\n                    id: '',\n                    questao: '',\n                    tipoVar: '',\n                    intervalo: [\"\"]\n                },\n                questoes: []\n            }\n\n        }, methods: {\n            deleteOpcao(counter) {\n\n                this.questoes.splice(counter, 1);\n            },\n            constroiIntervalo(array) {\n                var string = '';\n                array.forEach(element => {\n                    string += \" \" + element + \",\";\n                });\n                let str = string.slice(0, -1);\n                return str;\n            },\n            adicionarValor() {\n                this.questao.intervalo.push('')\n            },\n            deleteValor(intervalo, counter) {\n                if(intervalo.length === 1){\n                    this.$toasted.error(\"Mínimo de uma opção!\");\n                    return;\n                }\n                intervalo.splice(counter, 1);\n            },\n            adicionarQuestao(questao) {\n                if (questao.questao === '' || questao.tipoVar === '' || (questao.tipoVar == 'intervalo' && questao.intervalo.length == 0)) {\n                    this.$toasted.error(\"Campos obrigatórios vazios!\");\n                    return;\n                }\n\n                this.questoes.push({\n                    questao: questao.questao,\n                    tipoVar: questao.tipoVar,\n                    intervalo: questao.intervalo\n                });\n                this.questao = {\n                    questao: '',\n                    tipoVar: '',\n                    intervalo: []\n                };\n                this.$toasted.show(\"Questão adicionada!\");\n            },\n            deleteCampo(counter) {\n                this.questao.intervalo.splice(counter, 1);\n            },\n            submit() {\n                if(this.questoes.length <= 0){\n                    this.$toasted.error(\"Mínimo 1 Questão por Inquérito!\")\n                    return;\n                }\n\n                let questoes = '{ \\n \"questoes\":' + JSON.stringify(this.questoes) + \"\\n }\";\n                let msg = JSON.parse(questoes);\n                instance.post('api/postInquerito',\n                    msg, {\n                        withCredentials: true,\n                        headers: {\n                            Authorization: `Bearer ` + sessionStorage.getItem(\"token\")\n                        }\n                    }).then(() => {\n                        this.questoes = [];\n\n                    this.$toasted.show(\"Inquérito Criado!\")\n                }).catch(error => {\n                })\n\n            }\n\n\n        }\n    }\n</script>\n<style>\n\n    .registarInquerito {\n        font-family: \"Open Sans\";\n        display: flex;\n\n\n    }\n    .registarInquerito .titulo {\n       margin-left:16.4%;\n    }\n    .registarInquerito .titulo h3 {\n       text-align: left;\n    }\n\n    .registarInquerito table {\n        margin-bottom:20px;\n    }\n    .registarInquerito .fields {\n        display: inline-grid;\n        grid-row-gap: 10px;\n        grid-column-gap: 50px;\n        background-color: oldlace;\n        width: 100%;\n        height: 100%;\n\n    }\n\n    .registarInquerito .campos {\n        grid-column-start: 1;\n        margin-top: 10px;\n        margin-left: 10%;\n        margin-bottom: 10px;\n    }\n\n    .registarInquerito .valorQuestao {\n        height: 10%;\n        margin-bottom: 10px;\n    }\n\n    .registarInquerito .valorQuestao input {\n        margin-left: 4%;\n    }\n\n\n    .registarInquerito .tipoQuestao {\n        height: 10%;\n        margin-bottom: 10px;\n    }\n\n    .registarInquerito .tipoQuestao select {\n        margin-left: 1%;\n        width: 8.5%;\n    }\n\n    .registarInquerito .buttonAdicionarQuestao {\n        margin-left: 7%;\n    }\n\n    .registarInquerito .buttonAdicionarQuestao button {\n        text-align: center;\n        cursor: pointer;\n        background-color: rgba(246, 136, 72, 0.91);\n        border: none;\n        border-radius: 4px;\n    }\n\n    .registarInquerito .buttonAdicionarQuestao button:hover {\n        background-color: rgba(217, 107, 44, 0.91);\n    }\n\n    .registarInquerito .intervalo {\n        margin-top: 30px;\n    }\n\n    .registarInquerito input {\n        margin-left: 3.8%;\n    }\n\n    .registarInquerito .conteudo .buttonsRemover {\n        cursor: pointer;\n        background-color:oldlace;\n        width: 2%;\n        border-top:none;\n        border-color: oldlace;\n    }\n\n    .registarInquerito .conteudo .buttonsRemover a:hover {\n        font-weight: bold;\n        font-size: 13px;\n    }\n\n    .registarInquerito .buttonsIntervalos{\n        width:3%;\n        margin-left:8%;\n        margin-bottom:50px;\n        margin-top:10px;\n        height:10%;\n    }\n\n    .registarInquerito .buttonsIntervalos button{\n        background-color: lightgreen;\n        text-align: center;\n        cursor: pointer;\n        border: none;\n        border-radius: 4px;\n        padding: 4px;\n\n    }\n\n    .registarInquerito .buttonsIntervalos button:hover{\n        background-color: green;\n    }\n\n    .registarInquerito .buttonsIntervalos .buttonAdicionarValor{\n        float:left;\n    }\n\n    .registarInquerito .buttonsIntervalos .buttonEliminarValor{\n        float:right;\n    }\n\n    .registarInquerito .registar {\n        margin-top:30px;\n        margin-left:50%;\n        margin-bottom:30px;\n    }\n\n    .registarInquerito .registar button {\n        height: 50px;\n        font-size: medium;\n        cursor: pointer;\n        border: none;\n        background-color: #e99d72;\n        border-radius: 6px;\n        padding-left: 15px;\n        padding-right: 15px;\n\n    }\n    .registarInquerito .registar button:hover {\n        background-color: #fab995;\n    }\n\n\n</style>"],"sourceRoot":"src/components/registos"}]}