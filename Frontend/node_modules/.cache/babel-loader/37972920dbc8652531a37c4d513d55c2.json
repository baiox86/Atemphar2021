{"remainingRequest":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Projeto Final\\Entrega\\Software\\Frontend\\src\\components\\Inqueritos\\ResponderInquerito.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\src\\components\\Inqueritos\\ResponderInquerito.vue","mtime":1617391304400},{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Projeto Final\\Entrega\\Software\\Frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { bus } from \"../../main.js\";\n\nvar axios = require(\"axios\");\n\naxios.interceptors.response.use(function (response) {\n  return response;\n}, function (error) {\n  if (error.response.status === 401) {\n    bus.$emit(\"logout\");\n  }\n});\nvar instance = axios.create({\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n});\nexport default {\n  data: function data() {\n    return {\n      questoes: '',\n      idInquerito: '',\n      respostas: []\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    instance.get('/api/getInqueritoToken/' + this.$route.params.token, {\n      withCredentials: true,\n      headers: {\n        Authorization: \"Bearer \" + sessionStorage.getItem(\"token\")\n      }\n    }).then(function (response) {\n      _this.questoes = response.data;\n    }).catch(function (error) {\n      if (error.response.status == 400) {\n        _this.$toasted.error(\"Ocorreu um erro!\");\n      }\n    });\n  },\n  methods: {\n    clearFields: function clearFields() {\n      this.respostas = [];\n    },\n    submit: function submit() {\n      var _this2 = this;\n\n      if (this.respostas.length <= 0) {\n        this.$toasted.error(\"Mínimo de 1 resposta!\");\n        return;\n      }\n\n      instance.post('/api/postResposta/' + this.$route.params.token, this.respostas, {\n        withCredentials: true,\n        headers: {\n          Authorization: \"Bearer \" + sessionStorage.getItem(\"token\")\n        }\n      }).then(function () {\n        _this2.$toasted.show('Obrigado pela sua resposta!');\n\n        _this2.clearFields();\n      }).catch(function (error) {\n        if (error.response.status == 400) {\n          _this2.$toasted.error(\"Ocorreu um erro!\");\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["ResponderInquerito.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0FA,SAAA,GAAA;;AAEA,IAAA,KAAA,GAAA,OAAA,CAAA,OAAA,CAAA;;AACA,KAAA,CAAA,YAAA,CAAA,QAAA,CAAA,GAAA,CACA,UAAA,QAAA;AAAA,SAAA,QAAA;AAAA,CADA,EAEA,UAAA,KAAA,EAAA;AACA,MAAA,KAAA,CAAA,QAAA,CAAA,MAAA,KAAA,GAAA,EAAA;AACA,IAAA,GAAA,CAAA,KAAA,CAAA,QAAA;AACA;AACA,CANA;AAOA,IAAA,QAAA,GAAA,KAAA,CAAA,MAAA,CAAA;AACA,EAAA,cAAA,EAAA,wBAAA,MAAA,EAAA;AACA,WAAA,MAAA,IAAA,GAAA,IAAA,MAAA,GAAA,GAAA;AACA;AAHA,CAAA,CAAA;AAKA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,WAAA,EAAA,EAFA;AAGA,MAAA,SAAA,EAAA;AAHA,KAAA;AAOA,GATA;AASA,EAAA,OATA,qBASA;AAAA;;AACA,IAAA,QAAA,CAAA,GAAA,CAAA,4BAAA,KAAA,MAAA,CAAA,MAAA,CAAA,KAAA,EAAA;AACA,MAAA,eAAA,EAAA,IADA;AAEA,MAAA,OAAA,EAAA;AACA,QAAA,aAAA,EAAA,YAAA,cAAA,CAAA,OAAA,CAAA,OAAA;AADA;AAFA,KAAA,EAKA,IALA,CAKA,UAAA,QAAA,EAAA;AACA,MAAA,KAAA,CAAA,QAAA,GAAA,QAAA,CAAA,IAAA;AACA,KAPA,EAOA,KAPA,CAOA,UAAA,KAAA,EAAA;AACA,UAAA,KAAA,CAAA,QAAA,CAAA,MAAA,IAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,kBAAA;AACA;AACA,KAXA;AAYA,GAtBA;AAsBA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AACA,WAAA,SAAA,GAAA,EAAA;AACA,KAHA;AAIA,IAAA,MAJA,oBAIA;AAAA;;AACA,UAAA,KAAA,SAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AACA,aAAA,QAAA,CAAA,KAAA,CAAA,uBAAA;AACA;AACA;;AAEA,MAAA,QAAA,CAAA,IAAA,CAAA,uBAAA,KAAA,MAAA,CAAA,MAAA,CAAA,KAAA,EAAA,KAAA,SAAA,EAAA;AACA,QAAA,eAAA,EAAA,IADA;AAEA,QAAA,OAAA,EAAA;AACA,UAAA,aAAA,EAAA,YAAA,cAAA,CAAA,OAAA,CAAA,OAAA;AADA;AAFA,OAAA,EAKA,IALA,CAKA,YAAA;AACA,QAAA,MAAA,CAAA,QAAA,CAAA,IAAA,CAAA,6BAAA;;AACA,QAAA,MAAA,CAAA,WAAA;AAEA,OATA,EASA,KATA,CASA,UAAA,KAAA,EAAA;AACA,YAAA,KAAA,CAAA,QAAA,CAAA,MAAA,IAAA,GAAA,EAAA;AACA,UAAA,MAAA,CAAA,QAAA,CAAA,KAAA,CAAA,kBAAA;AACA;AACA,OAbA;AAcA;AAxBA;AAtBA,CAAA","sourcesContent":["<template>\n    <div>\n        <div class=\"responderInquerito\">\n            <div class=\"atempharlogo\">\n                <div class=\"imagem\">\n                    <a href=\"http://www.atemphar.org\">\n                        <img src=\"../../assets/logo_atemphar.png\">\n                    </a>\n                </div>\n                <div class=\"txtTitle\">Plataforma de Dados</div>\n            </div>\n            <div class=\"conteudo\" v-if=\"this.questoes.ativo === 1 && this.questoes.questoes.length > 0\">\n                <h1>Inquérito de Evento</h1>\n                <div class=\"informacoesEvento\">\n                    <h3><b>Informações do Evento</b></h3>\n                    <p><b>Nome:</b> {{questoes.nomeEvento}}</p>\n                    <p><b>Data:</b> {{questoes.dataEvento}}</p>\n                    <p><b>Local:</b> {{questoes.localEvento}}</p>\n                    <p><b>Tipo de Evento:</b> {{questoes.tipoEvento}}</p>\n                </div>\n                <br>\n                <div class=\"background\">\n                    <h3>Questões</h3>\n                    <div class=\"campos\">\n                        <div>\n                            <div v-for=\"(questao,counter) in questoes.questoes \" :key=\"counter\">\n                                <div v-if=\"questao.tipoVar=='STRING'\">\n                                    <div class=\"form\">\n                                        <div class=\"nome\">\n                                            <label>{{counter+1 +' - ' + questao.questao}}<i\n                                                    class=\"obrigatorio\"></i></label>\n                                            <br>\n                                            <input type=\"text\" v-model=\"respostas[counter]\" name=\"nome\">\n                                        </div>\n                                    </div>\n                                    <br>\n                                </div>\n                                <div v-if=\"questao.tipoVar=='LONG'\">\n                                    <div class=\"form\">\n                                        <div class=\"nome\">\n                                            <label>{{counter+1 +' - ' + questao.questao}}<i\n                                                    class=\"obrigatorio\"></i></label>\n                                            <input type=\"text\" v-model=\"respostas[counter]\" name=\"nome\">\n                                        </div>\n                                    </div>\n                                    <br>\n                                </div>\n                                <div  v-if=\"questao.tipoVar=='INTERVALO'\">\n                                    <label>{{counter+1 +' - ' + questao.questao}}<i class=\"obrigatorio\"></i></label>\n                                    <div class=\"radio\">\n                                        <div class=\"option\" v-for=\"(valor,key) in questao.intervalo\" :key=\"key\">\n                                            <input type=\"radio\" id=\"valor\" :value=\"valor\" v-model=\"respostas[counter]\">\n                                            <label for=valor>{{valor}}</label>\n                                        </div>\n                                    </div>\n                                    <br>\n                                </div>\n\n\n                            </div>\n\n                            <div class=\"registar\">\n                                <button type=\"submit\" v-on:click.prevent=\"submit()\"><i class=\"far fa-save\"></i> Submeter\n                                </button>\n                            </div>\n\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div v-else>\n                <h1>Link Inválido!</h1>\n            </div>\n        </div>\n        <footer class=\"creditos\">\n            <img src=\"../../assets/ipl_logo.png\">\n            <label class=\"uc\">\n                ESTG, Engenharia Informática,\n                <br>UC Projeto Informático, 2019/20\n            </label>\n            <div class=\"autores\">\n                <label class=\"titulo\">Desenvolvido por:</label>\n                <br>\n                <label>[Francisco Silva e Ricardo Soares]@2020, [João Dias e Cristiana Sousa]@2019</label>\n            </div>\n        </footer>\n\n    </div>\n</template>\n<script>\n    import {bus} from \"../../main.js\";\n\n    var axios = require(\"axios\");\n    axios.interceptors.response.use(\n        response => response,\n        error => {\n            if (error.response.status === 401) {\n                bus.$emit(\"logout\");\n            }\n        });\n    var instance = axios.create({\n        validateStatus: function (status) {\n            return status >= 200 && status < 300;\n        }\n    });\n    export default {\n        data() {\n            return {\n                questoes: '',\n                idInquerito: '',\n                respostas: [],\n\n            }\n\n        }, created() {\n            instance.get('/api/getInqueritoToken/' + this.$route.params.token, {\n                withCredentials: true,\n                headers: {\n                    Authorization: `Bearer ` + sessionStorage.getItem(\"token\")\n                }\n            }).then(response => {\n                this.questoes = response.data;\n            }).catch(error => {\n                if(error.response.status == 400){\n                    this.$toasted.error(\"Ocorreu um erro!\");\n                }\n            })\n        }, methods: {\n            clearFields(){\n              this.respostas = [];\n            },\n            submit() {\n                if(this.respostas.length <= 0){\n                    this.$toasted.error(\"Mínimo de 1 resposta!\");\n                    return;\n                }\n\n                instance.post('/api/postResposta/' + this.$route.params.token, this.respostas, {\n                    withCredentials: true,\n                    headers: {\n                        Authorization: `Bearer ` + sessionStorage.getItem(\"token\")\n                    }\n                }).then(() => {\n                    this.$toasted.show('Obrigado pela sua resposta!');\n                    this.clearFields();\n\n                }).catch(error => {\n                    if(error.response.status == 400){\n                        this.$toasted.error(\"Ocorreu um erro!\");\n                    }\n                })\n            }\n        }\n    }\n</script>\n<style>\n    @import url(\"https://fonts.googleapis.com/css?family=Actor\");\n\n    .responderInquerito .conteudo {\n        min-height: calc(100vh - 425px)\n    }\n\n    .responderInquerito .atempharlogo {\n        background-image: url(\"../../assets/campo_trigo.jpg\");\n        display: grid;\n        grid-row-gap: 10px;\n        grid-column-gap: 10px;\n        height: 100%;\n    }\n\n    .responderInquerito .atempharlogo .imagem {\n        grid-column-start: 1;\n        grid-row-start: 2;\n        margin-left: 10px;\n    }\n\n    .responderInquerito .atempharlogo .imagem img {\n        width: 90%;\n        margin-top: 10px;\n    }\n\n    .responderInquerito .atempharlogo .txtTitle {\n        grid-column-start: 2;\n        grid-row-start: 3;\n        color: #ffffff;\n        font-family: \"Berlin Sans FB\";\n        font-size: 5vw;\n        margin-right: 20px;\n    }\n\n    .responderInquerito .conteudo {\n\n        min-height: calc(100vh - 425px)\n    }\n\n\n    .responderInquerito .background {\n        display: inline-grid;\n        grid-row-gap: 10px;\n        grid-column-gap: 50px;\n        background-color: oldlace;\n        width: 100%;\n\n    }\n\n    .responderInquerito .campos {\n        margin-left: 35%;\n\n    }\n\n    .responderInquerito .radio{\n        display: table;\n        border-spacing: 5px;\n    }\n\n    .responderInquerito .radio .option{\n        display: table-cell;\n    }\n\n    .responderInquerito .informacoesEvento {\n        margin: auto;\n        width: 30%;\n        padding: 10px;\n        margin-top: 3%;\n        border: 3px solid lightgray;\n        overflow: hidden;\n    }\n\n    .responderInquerito .nome input{\n        margin-top:10px;\n        width:80%;\n    }\n\n    .responderInquerito .registar {\n        margin-left: 20%;\n        margin-bottom: 30px;\n        grid-column-start: 2;\n        grid-row-start: 5;\n        justify-self: end;\n    }\n\n    .responderInquerito .registar button {\n        height: 50px;\n        font-size: medium;\n        cursor: pointer;\n        border: none;\n        background-color: #e99d72;\n        border-radius: 6px;\n        padding-left: 15px;\n        padding-right: 15px;\n        margin: auto;\n    }\n\n\n    .creditos {\n        background-color: #f1f1f1;\n        display: grid;\n        height: 59px;\n    }\n\n    .creditos img {\n        width: 150px;\n        grid-column-start: 1;\n        grid-row-start: 1;\n        margin-left: 30px;\n    }\n\n    .creditos .uc {\n        grid-column-start: 2;\n        grid-row-start: 1;\n        align-self: end;\n        justify-self: center;\n        margin-bottom: 10px;\n        font-size: 12px;\n    }\n\n    .creditos .autores {\n        grid-column-start: 3;\n        grid-row-start: 1;\n        align-self: center;\n        justify-self: end;\n        margin-right: 30px;\n        font-size: 10px;\n        font-family: \"Actor\";\n    }\n\n    .creditos .titulo {\n        font-weight: bold;\n    }\n</style>"],"sourceRoot":"src/components/Inqueritos"}]}